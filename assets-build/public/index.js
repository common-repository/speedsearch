!function(){"use strict";var e={1117:function(e,t,s){s.r(t),s.d(t,{escapeAmpersand:function(){return r},escapeAttribute:function(){return i},escapeEditableHTML:function(){return o},escapeHTML:function(){return d},escapeLessThan:function(){return n},escapeQuotationMark:function(){return c},isValidAttributeName:function(){return l}});const a=/[\u007F-\u009F "'>/="\uFDD0-\uFDEF]/;function r(e){return e.replace(/&(?!([a-z0-9]+|#[0-9]+|#x[a-f0-9]+);)/gi,"&amp;")}function c(e){return e.replace(/"/g,"&quot;")}function n(e){return e.replace(/</g,"&lt;")}function i(e){return function(e){return e.replace(/>/g,"&gt;")}(c(r(e)))}function d(e){return n(r(e))}function o(e){return n(e.replace(/&/g,"&amp;"))}function l(e){return!a.test(e)}},8837:function(e,t,s){var a=s(8840);(new Image).src=speedsearch.imageUrls.placeholderImage,document.addEventListener("DOMContentLoaded",(async function(){document.addEventListener("speedsearch_settings_retrieved",(function(){if((!speedsearch.isCurrentPageShopPage()||speedsearch.getCurrentArchiveCategorySlug()&&speedsearch.settings.categoriesSupportMultiSelect||!("full-without-shop-page"===speedsearch.settings.categoriesStructure.type&&(window.location.pathname.includes(`/${speedsearch.settings.categoriesStructure["categories-prefix"]}/`)||window.location.pathname.startsWith(speedsearch.settings.shopPageUrl))||"last-with-shop-page"===speedsearch.settings.categoriesStructure.type&&window.location.pathname.startsWith(speedsearch.settings.shopPageUrl)))&&(speedsearch.settings.categoriesStructure.addCategoriesAsUrlParts=!1),speedsearch.settings.pagination.infiniteScroll.isEnabled){function t(){let e,t=document.speedsearch_querySelector(".speedsearch-single-post:last-child");t&&(speedsearch.infiniteScrollHandler=function(){clearTimeout(e),e=setTimeout((function(){t.getBoundingClientRect().top-window.innerHeight<0&&(window.removeEventListener("scroll",speedsearch.infiniteScrollHandler),speedsearch.settings.pagination.infiniteScroll.currentPage++,speedsearch.updatePosts())}),50)},speedsearch.infiniteScroll_getHowManyPostsAreDisplayed()<speedsearch.totalPosts&&window.addEventListener("scroll",speedsearch.infiniteScrollHandler,{passive:!0}))}speedsearch.infiniteScroll_getHowManyPostsAreDisplayed=function(){return speedsearch.settings.pagination.infiniteScroll.currentPage*speedsearch.settings.pagination.infiniteScroll.postsPerBlock<=speedsearch.totalPosts?speedsearch.settings.pagination.infiniteScroll.currentPage*speedsearch.settings.pagination.infiniteScroll.postsPerBlock:speedsearch.totalPosts},t(),document.addEventListener("speedsearch_after_posts_updated",t)}const e=Array.from(document.getElementsByClassName("woocommerce-breadcrumb"));if(speedsearch.isCurrentPageShopPage()&&e.length&&!speedsearch.settings.categoriesSupportMultiSelect){const s=e[0].firstChild.outerHTML,a=speedsearch.settings.breadcrumbsSeparator;speedsearch.updateBreadcrumbs=function(){if(!speedsearch.isCurrentPageMainShopPage())return;let t,r=speedsearch.getUrlCategories();if(r){r=r[0];const e=speedsearch.getParentCategories(r).map((e=>speedsearch.getCategoryName(e)));t=s+(e.length?a+e.join(a):"")+a+speedsearch.getCategoryName(r)}else t=s+a+speedsearch.settings.shopPageTitle;e.forEach((e=>{e.innerHTML=t})),document.dispatchEvent(new Event("speedsearch_after_wc_breadcrumbs_updated"))},document.addEventListener("speedsearch_after_category_change",speedsearch.updateBreadcrumbs)}})),async function(){if(!speedsearch.hasOwnProperty("settings")){let e;try{e=await speedsearch.fetchJsonData("get_public_settings",{},!0,!1,!0,!0)}catch(t){e=t}if(e.hasOwnProperty("error"))return;speedsearch.settings=e}document.dispatchEvent(new Event("speedsearch_settings_retrieved"))}(),function(){const e="speedsearch-recently-viewed-products";!function(){const t=speedsearch.settings.RECENTLY_VIEWED_PRODUCTS_PRODUCTS_SHOW_LIMIT;if(-1!==speedsearch.bodyClasses.indexOf("single-product")){let s;for(const e of speedsearch.bodyClasses)if(/postid-\d+$/.test(e)){s=e.replace("postid-","");break}if(s){let a=JSON.parse(localStorage.getItem(e));if(a){const e=a.indexOf(s);-1!==e&&a.splice(e,1),a.unshift(s)>t&&a.pop()}else a=[s];localStorage.setItem(e,JSON.stringify(a))}}}(),async function(){const t=Array.from(document.getElementsByClassName("speedsearch-recently-viewed-products")),s=JSON.parse(localStorage.getItem(e));t.length&&s?(t.forEach((async e=>{const t=e.classList.contains("add-most-popular-products-if-limit-is-not-hit"),a=e.hasAttribute("data-thumbnail-image-size")?e.getAttribute("data-thumbnail-image-size"):"";let r;try{r=await speedsearch.fetchJsonData("get_recently_viewed_products_data",{products:s,addMostPopularProductsIfLimitIsNotHit:t,thumbnailImageSize:a},!0,!1,!0,!0)}catch(e){r=e}if(e.hasAttribute("data-show-limit")){const t=e.getAttribute("data-show-limit");let s=1;if(r.hasOwnProperty("html")){const s=document.createElement("div");s.insertAdjacentHTML("beforeend",r.html),Array.from(s.getElementsByClassName("speedsearch-single-post")).forEach(((e,s)=>{s>=t&&e.remove()})),Array.from(s.children).forEach((t=>{e.insertAdjacentElement("beforeend",t)}))}else for(const a of r){if(s>t)break;e.insertAdjacentElement("beforeend",speedsearch.getPostElement(a)),s++}}else if(r.hasOwnProperty("html"))e.insertAdjacentHTML("beforeend",r.html);else for(const t of r)e.insertAdjacentElement("beforeend",speedsearch.getPostElement(t))})),document.addEventListener("speedsearch_after_recently_viewed_products_init",(function(){speedsearch.afterRecentlyProductsInit=!0})),document.dispatchEvent(new Event("speedsearch_after_recently_viewed_products_init"))):s||document.body.classList.add("speedsearch-no-recently-viewed-products")}()}(),document.speedsearch_querySelector('*[class^="speedsearch-"]')&&(speedsearch.getParentCategories=function(e){function t(s,a){if(s.hasOwnProperty("children"))for(const r in s.children){if(r===e)return a;{const e=JSON.parse(JSON.stringify(a));e.push(r);const c=t(s.children[r],e);if(c)return c}}return!1}for(const e in speedsearch.categoriesData){const s=t(speedsearch.categoriesData[e],[e]);if(s)return s}return[]},speedsearch.changeSearchInputValue=function(e,t){e.value=t,e.dispatchEvent(new Event("input"))},speedsearch.getCategoryName=function(e){let t="";const s=document.speedsearch_querySelector(`.speedsearch-category span[data-slug="${e.speedsearch_selectorEscAttrVal()}"]`);return s&&(t=s.textContent),t},speedsearch.rearrangeTagsHandler=function(e){const t=e.classList.contains("speedsearch-expanded"),s=e.speedsearch_querySelectorAll(".speedsearch-tag:not(.speedsearch-expand-tags):not(.speedsearch-collapse-tags):not(.first-layer-filtering-hidden):not(.second-layer-filtering-hidden):not(.speedsearch-hidden)");if(t)e.speedsearch_querySelector(".speedsearch-tag.speedsearch-collapse-tags").hidden=s.length<=speedsearch.TAGS_INITIAL_SHOW_LIMIT;else{s.forEach(((e,t)=>{s[t].hidden=t>=speedsearch.TAGS_INITIAL_SHOW_LIMIT}));const t=e.speedsearch_querySelector(".speedsearch-tag.speedsearch-expand-tags");t&&(t.hidden=s.length<=speedsearch.TAGS_INITIAL_SHOW_LIMIT)}},speedsearch.rearrangeTags=function(){function e(){if(speedsearch.settings.hideUnavailableTags){const e=document.body.speedsearch_querySelectorAll(".speedsearch-tags:not(.speedsearch-attribute-filter) .speedsearch-tags-container");for(const t of e)speedsearch.rearrangeTagsHandler(t),e[0].speedsearch_querySelector(".speedsearch-tag:not(.speedsearch-expand-tags):not(.speedsearch-collapse-tags):not(.first-layer-filtering-hidden):not(.second-layer-filtering-hidden):not(.speedsearch-hidden)")?e.forEach((e=>{e.closest(".speedsearch-tags").classList.remove("speedsearch-hidden")})):e.forEach((e=>{e.closest(".speedsearch-tags").classList.add("speedsearch-hidden")}))}}speedsearch.hasOwnProperty("settings")?e():document.addEventListener("speedsearch_settings_retrieved",e)},speedsearch.filterCategories=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="latestCounter_filterCategories",s=(speedsearch.hasOwnProperty(t)?speedsearch[t]:0)+1;let a;speedsearch[t]=s;const r=speedsearch.getCurrentPageTaxSlugAndTermName();if(!1!==r&&(a=JSON.parse(sessionStorage.getItem(`filterCategories_idsToShow-${JSON.stringify({[r.tax]:[r.term]}).speedsearch_getCustomHash()}`))),a)speedsearch.filterCategories_idsToShow=a;else try{speedsearch.filterCategories_idsToShow=await speedsearch.fetchJsonData("filter_categories",e,!1,!1,!0,!0)}catch(e){speedsearch.filterCategories_idsToShow=e}function c(){Array.from(document.getElementsByClassName("speedsearch-categories")).forEach((e=>{const t=Array.from(e.getElementsByClassName("speedsearch-category"));for(const e of t){const t=e.speedsearch_querySelector(":scope > span"),s=parseInt(t.getAttribute("data-id"));s&&!speedsearch.filterCategories_idsToShow.hasOwnProperty("error")&&(-1===speedsearch.filterCategories_idsToShow.indexOf(s)?"hide"===speedsearch.settings.howToTreatEmpty?e.classList.add("speedsearch-hidden"):"show-disabled"===speedsearch.settings.howToTreatEmpty&&e.classList.add("disabled"):(e.classList.remove("speedsearch-hidden"),e.classList.remove("disabled")))}if("show"!==speedsearch.settings.howToTreatEmpty){const e=speedsearch.getUrlCategories();for(const s of t)(s.parentNode.speedsearch_querySelector("li .speedsearch-category:not(.speedsearch-hidden):not(.disabled)")||s.parentNode.speedsearch_querySelector("li .speedsearch-category.active")||e&&-1!==e.indexOf(s.speedsearch_querySelector("span").getAttribute("data-slug")))&&(s.classList.remove("speedsearch-hidden"),s.classList.remove("disabled"))}if("hide"===speedsearch.settings.howToTreatEmpty)if(e.speedsearch_querySelector(".speedsearch-ul-container .speedsearch-category:not(.speedsearch-hidden)")){e.classList.remove("speedsearch-hidden");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.remove("speedsearch-hidden"),Array.from(e.getElementsByClassName("speedsearch-ul-container")).forEach((e=>{e.classList.toggle("speedsearch-hidden",!e.speedsearch_querySelector(".speedsearch-category:not(.speedsearch-hidden)"))}))}else{e.classList.add("speedsearch-hidden");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.add("speedsearch-hidden")}else if("show-disabled"===speedsearch.settings.howToTreatEmpty)if(e.speedsearch_querySelector(".speedsearch-ul-container .speedsearch-category:not(.disabled)")){e.classList.remove("disabled");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.remove("disabled")}else{e.classList.add("disabled");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.add("disabled")}}))}!1!==speedsearch.filterCategories_idsToShow&&s===speedsearch[t]&&(speedsearch.hasOwnProperty("settings")?c():document.addEventListener("speedsearch_settings_retrieved",c))},speedsearch.allFiltersElems=Array.from(document.getElementsByClassName("speedsearch-filters")),speedsearch.allTagsElems=document.body.speedsearch_querySelectorAll(".speedsearch-tags:not(.speedsearch-attribute-filter)"),speedsearch.categoryBlocks=Array.from(document.getElementsByClassName("speedsearch-categories")),speedsearch.secondLayerFiltering=async function(){if(speedsearch.isInDemoMode())return void onFinish();let e=speedsearch.secondLayerFiltering.getRequestParams();speedsearch.secondLayerFiltering.filterAttributesByTagsAttributesAndToggles=async function(){if(!speedsearch.allFiltersElems.length||speedsearch.hasOwnProperty("settings")&&"show"===speedsearch.settings.howToTreatEmpty)return;let t=Array.from(document.getElementsByClassName("speedsearch-attribute-filter")),s=[];t.forEach((e=>{const t=e.getAttribute("data-name").replace(new RegExp(`^${speedsearch.settings.attributesURLParamsPrefix}`),"");-1===s.indexOf(t)&&s.push(t)}));let a=s.length;function r(){a--,c()}function c(){0===a&&document.dispatchEvent(new Event("speedsearch_after_attribute_terms_filtering_finished"))}c(),s.forEach((async t=>{const s=`latestCounter_filterAttributeTermsByTagsAttributesAndToggles_${t}`,a=(speedsearch.hasOwnProperty(s)?speedsearch[s]:0)+1;speedsearch[s]=a;const c=JSON.parse(sessionStorage.getItem(`filterByTagsAttributesAndToggles_attributeTermNamesToShow-${JSON.stringify(speedsearch.secondLayerFiltering.getRequestParams()).speedsearch_getCustomHash()}`));if(speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow||(speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow={}),c&&Object.keys(c).length)speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow[t]=c[t];else try{speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow[t]=await speedsearch.fetchJsonData("filter_attribute_terms",Object.assign({attributeSlug:t},e,!1,!1,!0,!0))}catch(e){speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow[t]=e}function n(){"show"!==speedsearch.settings.howToTreatEmpty?(document.body.speedsearch_querySelectorAll(`.speedsearch-attribute-filter[data-name="${(speedsearch.settings.attributesURLParamsPrefix+t).speedsearch_selectorEscAttrVal()}"]:not(.speedsearch-settings-filter)`).forEach((e=>{if(e.speedsearch_querySelectorAll(".speedsearch-filter-field[data-attribute-term-name]").forEach((e=>{let s=e.getAttribute("data-attribute-term-name");-1===speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow[t].indexOf(s)?(e.classList.add("second-layer-filtering-affected"),"hide"===speedsearch.settings.howToTreatEmpty?e.classList.add("second-layer-filtering-hidden"):"show-disabled"===speedsearch.settings.howToTreatEmpty&&e.classList.add("second-layer-filtering-disabled")):(e.classList.remove("second-layer-filtering-affected"),e.classList.remove("second-layer-filtering-hidden"),e.classList.remove("second-layer-filtering-disabled"))})),e.speedsearch_querySelector(".speedsearch-filter-field:not(.disabled):not(.first-layer-filtering-disabled):not(.second-layer-filtering-disabled)")){e.classList.remove("second-layer-filtering-disabled"),e.classList.remove("first-layer-filtering-disabled");const t=e.closest(".speedsearch-filter-parent-node-container");t&&(t.classList.remove("second-layer-filtering-disabled"),t.classList.remove("first-layer-filtering-disabled"))}else{e.classList.add("second-layer-filtering-disabled");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.add("second-layer-filtering-disabled")}if(e.speedsearch_querySelector(".speedsearch-filter-field:not(.speedsearch-hidden):not(.first-layer-filtering-hidden):not(.second-layer-filtering-hidden)")){e.classList.remove("second-layer-filtering-hidden"),e.classList.remove("first-layer-filtering-hidden");const t=e.closest(".speedsearch-filter-parent-node-container");t&&(t.classList.remove("second-layer-filtering-hidden"),t.classList.remove("first-layer-filtering-hidden"))}else{e.classList.add("second-layer-filtering-hidden");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.add("second-layer-filtering-hidden")}})),r()):r()}!1===speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow[t]||speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow[t].hasOwnProperty("error")?r():a===speedsearch[s]?speedsearch.hasOwnProperty("filtersInitialized")&&speedsearch.filtersInitialized?n():document.addEventListener("speedsearch_after_filters_init",n):r()}))},speedsearch.secondLayerFiltering.filterTagsByTagsAttributesAndToggles=async function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!speedsearch.allTagsElems.length)return;const s="latestCounter_filterTagsByTagsAttributesAndToggles",a=(speedsearch.hasOwnProperty(s)?speedsearch[s]:0)+1;speedsearch[s]=a;const r=JSON.parse(sessionStorage.getItem(`filterByTagsAttributesAndToggles_tagsIdsToShow-${JSON.stringify(speedsearch.secondLayerFiltering.getRequestParams()).speedsearch_getCustomHash()}`));if(r)speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow=r;else try{speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow=await speedsearch.fetchJsonData("filter_tags",e,!1,!1,!0,!0)}catch(e){speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow=e}function c(){"show"!==speedsearch.settings.howToTreatEmpty&&(document.body.speedsearch_querySelectorAll(".speedsearch-tag:not(.speedsearch-expand-tags):not(.speedsearch-collapse-tags):not(.speedsearch-filter-field)").forEach((e=>{const t=parseInt(e.getAttribute("data-id"));-1===speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow.indexOf(t)?(e.classList.add("second-layer-filtering-affected"),speedsearch.settings.hideUnavailableTags?e.classList.add("second-layer-filtering-hidden"):e.classList.add("second-layer-filtering-disabled")):(e.classList.remove("second-layer-filtering-affected"),e.classList.remove("second-layer-filtering-hidden"),e.classList.remove("second-layer-filtering-disabled"))})),t&&speedsearch.rearrangeTags())}!1===speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow||speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow.hasOwnProperty("error")||a===speedsearch[s]&&(speedsearch.hasOwnProperty("tagsInitialized")&&speedsearch.tagsInitialized?c():document.addEventListener("speedsearch_after_tags_init",c))},speedsearch.secondLayerFiltering.filterCategoriesByCurrentTaxonomyOrByTagsAttributesAndToggles=async function(){if("show"!==speedsearch.settings.howToTreatEmpty)await speedsearch.filterCategories(speedsearch.secondLayerFiltering.getRequestParams(!1));else{const e=speedsearch.getCurrentPageTaxSlugAndTermName();!1!==e&&await speedsearch.filterCategories({attributes:{[e.tax]:[e.term]}})}},Promise.all([speedsearch.secondLayerFiltering.filterAttributesByTagsAttributesAndToggles(),speedsearch.secondLayerFiltering.filterTagsByTagsAttributesAndToggles(),speedsearch.secondLayerFiltering.filterCategoriesByCurrentTaxonomyOrByTagsAttributesAndToggles()]).then((()=>{speedsearch.secondLayerFilteringFinished=!0,document.dispatchEvent(new CustomEvent("speedsearch_after_second_layer_filtering_finished"))})).catch((e=>speedsearch.error(e)))},speedsearch.secondLayerFiltering.getRequestParams=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={},s=speedsearch.getUrlParam("text");s&&(t.text=s.toString().toLowerCase());let a=Array.from(document.getElementsByClassName("speedsearch-attribute-filter"));if(a.length){let i={};a.forEach((e=>{let t=e.getAttribute("data-name"),s=speedsearch.getUrlParam(t);s&&(i[speedsearch.settings.attributesURLParamsPrefix?t.replace(new RegExp(`^${speedsearch.settings.attributesURLParamsPrefix}`),""):t]=s)})),Object.keys(i).length&&(t.attributes=i)}const r=speedsearch.getCurrentPageTaxSlugAndTermName();!1!==r&&(t.hasOwnProperty("attributes")||(t.attributes={}),t.attributes[r.tax]=[r.term]);let c=speedsearch.getUrlTags();if(c&&(t.tags=c),-1!==speedsearch.bodyClasses.indexOf("tax-product_tag"))for(const d of speedsearch.bodyClasses)if(/^term-\d+$/.test(d)){let o=Number(d.replace("term-",""));if(t.hasOwnProperty("tags")?t.tags.push(o):t.tags=[o],e){function l(){document.body.speedsearch_querySelectorAll(`.speedsearch-tag[data-id="${o.speedsearch_selectorEscAttrVal()}"]`).forEach((e=>{e.classList.add("speedsearch-hidden")}));const e=document.body.speedsearch_querySelectorAll(".speedsearch-tags:not(.speedsearch-attribute-filter) .speedsearch-tags-container");for(const t of e)speedsearch.rearrangeTagsHandler(t)}speedsearch.hasOwnProperty("tagsInitialized")&&speedsearch.tagsInitialized?l():document.addEventListener("speedsearch_after_tags_init",l,{once:!0})}break}let n=speedsearch.getUrlParam("toggles");n&&(t.toggles=[],n.forEach((e=>{let s=e.toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));t.toggles.push(s)})));for(let h in t)Array.isArray(t[h])?(t[h].sort(),t[h]=t[h]):"object"==typeof t[h]&&(t[h]=Object.keys(t[h]).sort().reduce(((e,s)=>{let a=t[h][s];return Array.isArray(a)&&a.sort(),e[s]=a,e}),{}));return t},document.dispatchEvent(new Event("speedsearch_second_layer_filtering_init")),async function(){speedsearch.filtersLimits.hasOwnProperty("date")&&(""===speedsearch.filtersLimits.date.min||""===speedsearch.filtersLimits.date.max)||speedsearch.filtersLimits.hasOwnProperty("price")&&(""===speedsearch.filtersLimits.price.min||""===speedsearch.filtersLimits.price.max)||speedsearch.setSessionStorage(`limits-for-cat-${JSON.stringify(speedsearch.getUrlCategories()).speedsearch_getCustomHash()}`,JSON.stringify(speedsearch.filtersLimits)),speedsearch.hasOwnProperty("filterByCategories_attributeTermNamesToShow")&&speedsearch.filterByCategories_attributeTermNamesToShow&&speedsearch.setSessionStorage(`filterByCategories_attributeTermNamesToShow-${JSON.stringify(speedsearch.getUrlCategories()).speedsearch_getCustomHash()}`,JSON.stringify(speedsearch.filterByCategories_attributeTermNamesToShow)),speedsearch.hasOwnProperty("filterByCategories_tagsIdsToShow")&&""!==speedsearch.filterByCategories_tagsIdsToShow&&speedsearch.setSessionStorage(`filterByCategories_tagsIdsToShow-${JSON.stringify(speedsearch.getUrlCategories()).speedsearch_getCustomHash()}`,JSON.stringify(speedsearch.filterByCategories_tagsIdsToShow)),speedsearch.hasOwnProperty("filterByTagsAttributesAndToggles_attributeTermNamesToShow")&&speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow&&speedsearch.setSessionStorage(`filterByTagsAttributesAndToggles_attributeTermNamesToShow-${JSON.stringify(speedsearch.secondLayerFiltering.getRequestParams()).speedsearch_getCustomHash()}`,JSON.stringify(speedsearch.filterByTagsAttributesAndToggles_attributeTermNamesToShow)),speedsearch.hasOwnProperty("filterByTagsAttributesAndToggles_tagsIdsToShow")&&""!==speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow&&speedsearch.setSessionStorage(`filterByTagsAttributesAndToggles_tagsIdsToShow-${JSON.stringify(speedsearch.secondLayerFiltering.getRequestParams()).speedsearch_getCustomHash()}`,JSON.stringify(speedsearch.filterByTagsAttributesAndToggles_tagsIdsToShow));const e=document.speedsearch_querySelector(".speedsearch-posts-container .speedsearch-posts");e&&e.children.length&&await speedsearch.cacheSet("initial-speedsearch-posts-inner-html",{html:e.innerHTML},!0),speedsearch.hasOwnProperty("totalPosts")&&speedsearch.maybeCacheCurrentPostsHtml();const t=speedsearch.getCurrentPageTaxSlugAndTermName();!1!==t&&speedsearch.hasOwnProperty("filterCategories_idsToShow")&&""!==speedsearch.filterCategories_idsToShow&&speedsearch.setSessionStorage(`filterCategories_idsToShow-${JSON.stringify({[t.tax]:[t.term]}).speedsearch_getCustomHash()}`,JSON.stringify(speedsearch.filterCategories_idsToShow))}(),document.speedsearch_querySelector(".speedsearch-posts-container")&&(speedsearch.hasOwnProperty("totalPosts")||speedsearch.isToNotDisplayProductsButOnlyCategoriesInsideOfProductContainers()?(speedsearch.secondLayerFiltering(),speedsearch.afterPostsCounterChanged(),speedsearch.addPaginationClickListeners(),speedsearch.attachVariationsEventListeners(),speedsearch.attachResetAllFiltersButtonListeners()):speedsearch.updatePosts(),speedsearch.startRequestsEnqueue()),async function(){const e=Array.from(document.getElementsByClassName("speedsearch-search-container")),t=Array.from(e).filter((e=>e.classList.contains("search-in-results"))),s=Array.from(e).filter((e=>!e.classList.contains("search-in-results"))),r=Array.from(document.getElementsByClassName("speedsearch-search-results-container"));function c(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return[];const a=t.classList.contains("speedsearch-search-results-container");function c(e){return a?e.closest(".speedsearch-search-container"):e}return c(t).classList.contains("search-in-results")?Array.from(a?r:e).filter((e=>c(e).classList.contains("search-in-results"))):s?[t,...Array.from(a?r:e).filter((e=>c(e).classList.contains("search-in-results")))]:[t]}function n(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=JSON.parse(localStorage.getItem("speedsearch-last-search-values"));if(r&&r.length){r=r.reverse(),e.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t\t${s?'<hr class="speedsearch-no-m">':""}\n\t\t\t\t\t\t<span class="speedsearch-search-results-header"><b>${(0,a.escAttr)(speedsearch.txt.previousSearches)}</b></span>\n\t\t\t\t\t\t<span class="speedsearch-search-results-previous-searches-container"></span>\n\t\t\t\t\t\t`);const c=e.querySelector(".speedsearch-search-results-previous-searches-container");for(const e of r)c.insertAdjacentHTML("beforeend",`\n\t\t\t\t\t\t\t<span class="speedsearch-search-results-previous-search">\n\t\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.496 24.5">\n\t\t\t\t\t\t\t\t  <path d="M13.248 1.25c-5.479 0-10.005 4.123-10.66 9.427L1.294 9.384a.75.75 0 1 0-1.06 1.06L2.087 12.3c.337.337.785.523 1.262.523s.925-.186 1.262-.523l1.855-1.855a.75.75 0 1 0-1.06-1.06l-1.305 1.304c.64-4.48 4.492-7.938 9.146-7.938 5.1 0 9.25 4.15 9.25 9.25s-4.15 9.25-9.25 9.25a9.19 9.19 0 0 1-6.541-2.709.75.75 0 1 0-1.06 1.06 10.68 10.68 0 0 0 7.601 3.149c5.928 0 10.75-4.822 10.75-10.75S19.176 1.25 13.248 1.25z" fill="currentColor"></path>\n\t\t\t\t\t\t\t\t  <path d="M13.048 6.988a.75.75 0 0 0-.75.75V12.4c0 .02.01.038.012.059.004.052.015.1.03.15a.72.72 0 0 0 .048.13.725.725 0 0 0 .079.116c.032.04.064.077.104.11.015.014.024.033.04.045l2.9 2.071a.75.75 0 1 0 .871-1.22l-2.584-1.847V7.738a.75.75 0 0 0-.75-.75z" fill="currentColor"></path>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span class="speedsearch-search-results-previous-search-value">\n\t\t\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t`),c.querySelector(".speedsearch-search-results-previous-search:last-child").addEventListener("click",(function(){t.value=e,t.focus(),t.dispatchEvent(new Event("input")),t.closest(".speedsearch-search-container").speedsearch_querySelector(".speedsearch-search-results-text-part").parentNode.classList.remove("active"),speedsearch.addUrlParam("text",t.value,!0),speedsearch.textUrlParamUpdated(t,t.value)}),{passive:!0})}e.parentNode.classList.add("speedsearch-nothing-found-container")}function i(){const e=["attributes","tags","categories"];let t=speedsearch.getPostsUpdateRequestParams();return Object.fromEntries(Object.entries(t).filter((t=>{let[s,a]=t;return e.includes(s)})))}if(speedsearch.textUrlParamUpdated=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e&&e.closest(".speedsearch-search-container").classList.contains("search-in-results")||t.forEach((e=>{const t=e.querySelector(".speedsearch-search-input");speedsearch.changeSearchInputValue(t,a)})),s.forEach((e=>{const t=e.querySelector(".speedsearch-search-input");speedsearch.changeSearchInputValue(t,"")}))},document.addEventListener("speedsearch_before_add_url_param",(e=>{let t=e.data.param,s=e.data.valToAdd;if(e.data.single,e.data.noPostsUpdate,"text"===t){let e=JSON.parse(localStorage.getItem("speedsearch-last-search-values"));e||(e=[]),e=e.filter((e=>e!==s)),e.push(s),e=e.slice(-10),localStorage.setItem("speedsearch-last-search-values",JSON.stringify(e))}}),{passive:!0}),speedsearch.autocompleteFilteringBasedOnSearchTerms=new class{constructor(){if(!speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters)return;this.prependsDataLocalStorageNamePrefix="filters-based-on-search-terms",this.autoload();const e=document.speedsearch_querySelector(".speedsearch-search-container.search-in-results .speedsearch-search-input");e&&(document.addEventListener("speedsearch_after_attribute_change",(t=>{let s=t.data.attributeSlug,a=t.data.termName,r=t.data.isSelected,c=t.data.isSingleSelect;if(r){if(c)for(const[t,a,r]of this.data)if("attribute"===t){const t=a,c=r;s===t&&this.delete(e,"attribute",t,c,!0)}this.add(e,"attribute",s,a)}else this.delete(e,"attribute",s,a)})),document.addEventListener("speedsearch_after_tag_change",(t=>{const s=t.data.tagID,a=t.data.tagName;t.data.isSelected?this.add(e,"tag",s,a):this.delete(e,"tag",s,a)})),document.addEventListener("speedsearch_after_category_change",(t=>{let s=t.data.categorySlug,a=t.data.categoryName,r=t.data.isSelected;if(t.data.isAllCategoriesActive){for(const[t,s,a]of this.data)if("category"===t){const t=s,r=a;this.delete(e,"category",t,r)}}else r?this.add(e,"category",s,a):this.delete(e,"category",s,a)})))}autoload(){const e=sessionStorage.getItem(this.prependsDataLocalStorageNamePrefix+location.href);this.data=e?JSON.parse(e):[],this.render()}_isInSearchResults(e){return e.closest(".speedsearch-search-container").classList.contains("search-in-results")}check(e,t){if(speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters&&e.closest(".speedsearch-search-container").classList.contains("search-in-results")){const s=e.value.trim().split(" ").slice(-1)[0].toLowerCase();let a=t.speedsearch_querySelector("a.preactive");if(a||(a=t.speedsearch_querySelector("a:not(.speedsearch-search-heading):not(.speedsearch-fake-link)")),a){const t=a.getAttribute("data-type");if("attribute"===t){const t=a.getAttribute("data-name");if(t.toLowerCase()===s){const s=a.getAttribute("data-slug");this.add(e,"attribute",s,t)}}else if("tag"===t){const t=a.speedsearch_querySelector(".speedsearch-link-content").textContent.trim();if(t.toLowerCase()===s){const s=a.getAttribute("data-id");this.add(e,"attribute",s,t)}}else if("category"===t){const t=a.speedsearch_querySelector(".speedsearch-link-content").textContent.trim();if(t.toLowerCase()===s){const s=a.getAttribute("data-slug");this.add(e,"category",s,t)}}}}}add(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters){for(const[e,r,c]of this.data)if(e===t&&r===s&&c===a)return;if(this._isInSearchResults(e)){if(this.data.push([t,s,a]),"attribute"===t){const r=document.speedsearch_querySelector(`.speedsearch-attribute-filter[data-name="${(speedsearch.settings.attributesURLParamsPrefix+s).speedsearch_selectorEscAttrVal()}"] .speedsearch-filter-field[data-attribute-term-name="${a.speedsearch_selectorEscAttrVal()}"]`);if(r&&!r.classList.contains("active")){let e=new Event("click");e.data={goThroughDisabledElems:!0},r.dispatchEvent(e)}else if(!r)return void this.delete(e,t,s,a,!0)}else if("tag"===t){const r=document.speedsearch_querySelector(`.speedsearch-tags .speedsearch-tags-container .speedsearch-tag[rel="tag"][data-id="${s.speedsearch_selectorEscAttrVal()}"]`);if(r&&!r.classList.contains("active")){let e=new Event("click");e.data={goThroughDisabledElems:!0},r.dispatchEvent(e)}if(!r)return void this.delete(e,t,s,a,!0)}else if("category"===t){const r=document.speedsearch_querySelector(`.speedsearch-categories .speedsearch-category [data-slug="${s.speedsearch_selectorEscAttrVal()}"]`);if(r&&!r.classList.contains("active")){let e=new Event("click");e.data={goThroughDisabledElems:!0},r.parentNode.dispatchEvent(e)}if(!r)return void this.delete(e,t,s,a,!0)}this.updateUrlParams(),this.render(),speedsearch.changeSearchInputValue(e,"")}}}delete(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters){for(const e in this.data){const[r,c,n]=this.data[e];if(t===r&&s===c&&a===n){this.data.splice(Number(e),1);break}}if(!r&&this._isInSearchResults(e)){if("attribute"===t){const e=document.speedsearch_querySelector(`.speedsearch-attribute-filter[data-name="${(speedsearch.settings.attributesURLParamsPrefix+s).speedsearch_selectorEscAttrVal()}"] .speedsearch-filter-field[data-attribute-term-name="${a.speedsearch_selectorEscAttrVal()}"]`);if(e&&e.classList.contains("active")){let t=new Event("click");t.data={goThroughDisabledElems:!0},e.dispatchEvent(t)}}else if("tag"===t){const e=document.speedsearch_querySelector(`.speedsearch-tags .speedsearch-tags-container .speedsearch-tag[rel="tag"][data-id="${s.speedsearch_selectorEscAttrVal()}"]`);if(e&&e.classList.contains("active")){let t=new Event("click");t.data={goThroughDisabledElems:!0},e.dispatchEvent(t)}}else if("category"===t){const e=document.speedsearch_querySelector(`.speedsearch-categories .speedsearch-category [data-slug="${s.speedsearch_selectorEscAttrVal()}"]`);if(e&&e.classList.contains("active")){let t=new Event("click");t.data={goThroughDisabledElems:!0},e.parentNode.dispatchEvent(t)}}this.updateUrlParams(),this.render(),e.dispatchEvent(new Event("input"))}}}deleteTheLast(e){if(speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters&&this._isInSearchResults(e)&&this.data.length){const t=this.data[this.data.length-1];this.delete(e,t[0],t[1],t[2])}}deleteAll(e){speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters&&this._isInSearchResults(e)&&(this.data=[],this.updateUrlParams(),this.render())}updateUrlParams(){if(speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters)if(this.data.length){const e=sessionStorage.getItem(this.prependsDataLocalStorageNamePrefix+location.href);e&&e===JSON.stringify(this.data)||speedsearch.setSessionStorage(this.prependsDataLocalStorageNamePrefix+location.href,JSON.stringify(this.data))}else sessionStorage.removeItem(this.prependsDataLocalStorageNamePrefix+location.href)}render(){if(!speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters)return;const e=this,t=document.body.speedsearch_querySelectorAll(".speedsearch-search-container.search-in-results .speedsearch-search-input");Promise.all([new Promise((e=>{speedsearch.hasOwnProperty("filtersInitialized")&&speedsearch.filtersInitialized?e():document.addEventListener("speedsearch_after_filters_init",e,{once:!0})})),new Promise((e=>{speedsearch.hasOwnProperty("tagsInitialized")&&speedsearch.tagsInitialized?e():document.addEventListener("speedsearch_after_tags_init",e,{once:!0})})),new Promise((e=>{speedsearch.hasOwnProperty("categoriesInitialized")&&speedsearch.categoriesInitialized?e():document.addEventListener("speedsearch_after_categories_init",e,{once:!0})}))]).then((()=>{t.forEach((t=>{let s=t.parentNode.speedsearch_querySelector(".speedsearch-autocomplete-search-input-blocks-container");if(s&&s.remove(),e.data.length){t.parentNode.insertAdjacentHTML("afterbegin",'<div class="speedsearch-autocomplete-search-input-blocks-container"></div>');const s=t.parentNode.speedsearch_querySelector(".speedsearch-autocomplete-search-input-blocks-container");let r="";for(const[t,s,c]of e.data)if("attribute"===t){const e=s,t=c,n=document.speedsearch_querySelector(`.speedsearch-attribute-filter[data-name="${(speedsearch.settings.attributesURLParamsPrefix+e).speedsearch_selectorEscAttrVal()}"] `);if(!n)continue;const i=n.getAttribute("data-attribute-filter-name");r+='\n\t\t                                <div class="speedsearch-autocomplete-search-input-attribute-block">\n\t\t                                   <div class="speedsearch-autocomplete-search-input-prepend-container">\n\t\t                            ',r+=`\n\t\t                                <span class="speedsearch-autocomplete-search-input-prepend speedsearch-autocomplete-prepend-part" data-type="term" title="${(0,a.escAttr)(speedsearch.txt.deselect)}"\n\t\t                                    data-taxonomy-slug="${(0,a.escAttr)(e)}" data-name="${(0,a.escAttr)(t)}">\n\t\t                                    <span>${(0,a.escAttr)(t)}</span>\n\t\t                                </span>\n\t\t                            `,r+=`\n\t\t                                </div>\n\t\t                                <span class="speedsearch-autocomplete-search-input-attribute">${(0,a.escAttr)(i)}</span>\n\t\t                            </div>`}else if("tag"===t){const e=s,t=c;if(!document.speedsearch_querySelector(`.speedsearch-tags .speedsearch-tags-container .speedsearch-tag[rel="tag"][data-id="${e.speedsearch_selectorEscAttrVal()}"]`))continue;r+='\n\t\t                                <div class="speedsearch-autocomplete-search-input-attribute-block">\n\t\t                                   <div class="speedsearch-autocomplete-search-input-prepend-container">\n\t\t                            ',r+=`\n\t\t                                <span class="speedsearch-autocomplete-search-input-prepend speedsearch-autocomplete-prepend-part" data-type="tag" title="${(0,a.escAttr)(speedsearch.txt.deselect)}"\n\t\t                                    data-id="${(0,a.escAttr)(e)}" data-name="${(0,a.escAttr)(t)}">\n\t\t                                    <span>${(0,a.escAttr)(t)}</span>\n\t\t                                </span>\n\t\t                            `,r+=`\n\t\t                                </div>\n\t\t                                <span class="speedsearch-autocomplete-search-input-attribute">${(0,a.escAttr)(speedsearch.txt.tag)}</span>\n\t\t                            </div>`}else if("category"===t){const e=s,t=c;if(!document.speedsearch_querySelector(`.speedsearch-categories .speedsearch-category [data-slug="${e.speedsearch_selectorEscAttrVal()}"]`))continue;r+='\n\t\t                                <div class="speedsearch-autocomplete-search-input-attribute-block">\n\t\t                                   <div class="speedsearch-autocomplete-search-input-prepend-container">\n\t\t                            ',r+=`\n\t\t                                <span class="speedsearch-autocomplete-search-input-prepend speedsearch-autocomplete-prepend-part" data-type="category" title="${(0,a.escAttr)(speedsearch.txt.deselect)}"\n\t\t                                    data-slug="${(0,a.escAttr)(e)}" data-name="${(0,a.escAttr)(t)}">\n\t\t                                    <span>${(0,a.escAttr)(t)}</span>\n\t\t                                </span>\n\t\t                            `,r+=`\n\t\t                                </div>\n\t\t                                <span class="speedsearch-autocomplete-search-input-attribute">${(0,a.escAttr)(speedsearch.txt.category)}</span>\n\t\t                            </div>`}s.insertAdjacentHTML("beforeend",r),s.speedsearch_querySelectorAll('.speedsearch-autocomplete-search-input-prepend[data-type="term"]').forEach((s=>{s.addEventListener("click",(function(){const a=s.getAttribute("data-taxonomy-slug"),r=s.getAttribute("data-name");e.delete(t,"attribute",a,r)}),{passive:!0})})),s.speedsearch_querySelectorAll('.speedsearch-autocomplete-search-input-prepend[data-type="tag"]').forEach((s=>{s.addEventListener("click",(function(){const a=s.getAttribute("data-id"),r=s.getAttribute("data-name");e.delete(t,"tag",a,r)}),{passive:!0})})),s.speedsearch_querySelectorAll('.speedsearch-autocomplete-search-input-prepend[data-type="category"]').forEach((s=>{s.addEventListener("click",(function(){const a=s.getAttribute("data-slug"),r=s.getAttribute("data-name");e.delete(t,"category",a,r)}),{passive:!0})})),s.addEventListener("click",(()=>{t.focus()}),{passive:!0})}}))}))}},e.length){let d;function o(e){let t=document.body.speedsearch_querySelectorAll(".speedsearch-search-results-container.active"),s=e.target.closest(".speedsearch-search"),a=e.target.closest(".speedsearch-search-results-container");t.forEach((t=>{let r=t.parentNode.speedsearch_querySelector(".speedsearch-search");a!==t&&s!==r&&e.target!==document.documentElement&&t.classList.remove("active")}))}function l(){let r,l;function h(e){r=e;const t=window.innerWidth-document.body.offsetWidth;e.style.left="",e.style.width="";let s=e.getBoundingClientRect();s.width+20>window.innerWidth&&(e.style.width=window.innerWidth-20-t+"px"),s=e.getBoundingClientRect();let a=window.innerWidth<s.right+10,c=s.left<10;if(a){let a=s.right-window.innerWidth;e.style.left=`calc(50% - ${a+10+t}px)`}else if(c){let t=-s.left;e.style.left=`calc(50% + ${t+10}px)`}}function p(e,t,s){if(e.children.length<2?e.classList.add("speedsearch-hidden"):e.classList.remove("speedsearch-hidden"),speedsearch.settings.autocomplete.showTabsOnThePage&&0===s&&t.classList.contains("search-in-results")&&e.speedsearch_querySelector('.speedsearch-tab[data-type="products"]')){const t=Array.from(document.getElementsByClassName("speedsearch-posts-container"));speedsearch.selectProductTabsIfPresent(),t.forEach((t=>{const s=t.speedsearch_querySelector(".speedsearch-on-page-tabs-container");s&&s.remove(),t.insertAdjacentHTML("afterbegin",`\n                                    <div class="speedsearch-on-page-tabs-container">${e.outerHTML}</div>\n                                    `);const a=t.speedsearch_querySelector(".speedsearch-on-page-tabs-container");a.speedsearch_querySelectorAll(".speedsearch-tab.active").forEach((e=>{e.classList.remove("active")}));const r=a.speedsearch_querySelector('.speedsearch-tab[data-type="products"]');r&&r.classList.add("active");let c=!1,n=[];Array.from(a.getElementsByClassName("speedsearch-tab")).forEach((e=>{e.addEventListener("click",(function(){let s=a.speedsearch_querySelector(".speedsearch-tab.active");if(s&&e!==s){s&&s.classList.remove("active"),e.classList.add("active");const a=s.getAttribute("data-type");Array.from(t.children).forEach((e=>{e.classList.contains("speedsearch-on-page-tabs-container")||(e.remove(),"products"!==a||c||n.push(e))})),c=!0,t.insertAdjacentHTML("beforeend",'\n                                            <div class="speedsearch-on-page-tabs-container-content"></div>\n                                            ');const i=t.speedsearch_querySelector(".speedsearch-on-page-tabs-container-content");let d=e.getAttribute("data-type");if("products"===d)i.remove(),n.forEach((e=>{t.append(e)}));else if("categories"===d)speedsearch.displayCategoriesTab(i);else if("tags"===d)speedsearch.displayTagsTab(i);else if("attributes"===d){let t=e.getAttribute("data-attribute");speedsearch.displayAttributesTab(t,i)}"products"!==d&&i.speedsearch_querySelectorAll("a[data-type]:not(.disabled)").forEach((e=>{e.addEventListener("click",(function(){r.click()}),{passive:!0})}))}}),{passive:!0})}))}))}}function u(e,t){let s=e.speedsearch_querySelector(".speedsearch-visual-block-tabs-container .speedsearch-tab:first-child");s&&(s.click(),e.parentNode.classList.remove("speedsearch-nothing-found-container"))}function g(e,t,s){t.speedsearch_querySelector("a[data-type]:not(.speedsearch-fake-link)")?e.parentNode.classList.remove("speedsearch-nothing-found-container"):(f(e,!1),e.insertAdjacentHTML("beforeend",`<span class="speedsearch-search-results-header">${(0,a.escAttr)(speedsearch.txt.nothingMatches)} <b>${(0,a.escAttr)(s.speedsearch_searchedForValue)}</b></span>`),n(e,s))}function f(e,t){Array.from(e.children).forEach((e=>{e.classList.contains("speedsearch-visual-block-tabs-container")||t&&e.classList.contains("speedsearch-search-results-header")||e.remove()}))}function y(e,t){let s=t.speedsearch_querySelector(".speedsearch-search-results-header");if(!s){const e=document.createElement("span");e.classList.add("speedsearch-search-results-header");const a=t.speedsearch_querySelector(".speedsearch-visual-block-tabs-container");t.classList.contains("speedsearch-on-page-tabs-container-content")?t.prepend(e):a&&a.nextSibling?a.parentNode.insertBefore(e,a.nextSibling):t.append(e),s=t.speedsearch_querySelector(".speedsearch-search-results-header")}s.innerHTML=e}function m(e,t){y(`${speedsearch.txt.forSearch} "<b>${e.speedsearch_searchedForValue}</b>"`,t)}function v(){document.body.speedsearch_querySelectorAll(".speedsearch-search-results-container.active").forEach((e=>{e.classList.remove("active")}))}async function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(speedsearch.isMobileViewWidth())return;let s=t?[e.closest(".speedsearch-search-results-container")]:c(e.closest(".speedsearch-search-results-container"));const r="latestTimestamp_autocompleteRightPanelProducts",n=performance.now();s.forEach((e=>{e[r]=n}));let o={};const l=e.getAttribute("data-type"),h=e.classList.contains("speedsearch-fake-link"),m=e.speedsearch_querySelector(".speedsearch-link-content").textContent;let v,_;["search-text","product"].includes(l)?(o.text=m.toLowerCase().trim(),v=speedsearch.txt.productsThatMatchWord):"category"===l?(o.categories=[e.getAttribute("data-slug")],v=speedsearch.txt.productsThatMatchCategory):"tag"===l?(o.tags=[e.getAttribute("data-id")],v=speedsearch.txt.productsThatMatchTag):"attribute"===l&&(o.attributes={[e.getAttribute("data-slug")]:[e.getAttribute("data-name")]},v=speedsearch.txt.productsThatMatchAttribute),o=speedsearch.deepMerge(e.closest(".speedsearch-search-container").classList.contains("search-in-results")?i():{},o),s.forEach((e=>{const t=e.closest(".speedsearch-search-block").speedsearch_querySelector(".speedsearch-search-results-visual-part");t.speedsearch_querySelectorAll('a[data-type="product"]').forEach((e=>{e.classList.add("speedsearch-autocomplete-product-loading"),speedsearch.addLoadingElement(e)}));const s=t.speedsearch_querySelector(".speedsearch-tab.active");s&&s.classList.remove("active"),y(`${v} "<b>${m}</b>"`,t)}));try{_=await speedsearch.fetchJsonData("autocomplete_search",o)}catch(e){_=e}s.filter((e=>n===e[r])),speedsearch.latestAutocompleteTimestamp>n||(s.forEach(((t,s)=>{const r=t.closest(".speedsearch-search-container"),c=r.speedsearch_querySelector(".speedsearch-search-results-visual-part"),n=r.speedsearch_querySelector(".speedsearch-search-input"),i=r.speedsearch_querySelector(".speedsearch-search-results-text-part");if("search-text"===e.getAttribute("data-type")){const e=i.speedsearch_querySelector('a[data-type="search-text"]');if(e&&!e.hasAttribute("speedsearch-configured"))if(0===_.length){const s=t.closest(".speedsearch-search-container");h||(e.nextElementSibling?s.speedsearch_arrowDownKeyPressHandler(n===d):s.speedsearch_arrowUpKeyPressHandler(n===d),0===i.speedsearch_querySelectorAll('a[data-type="product"]').length&&e.previousElementSibling&&e.previousElementSibling.remove(),e.remove()),g(c,i,n)}else{const t=e.speedsearch_querySelector(".speedsearch-products-count");_.length&&(t.innerText=_.length===speedsearch.settings.autocompleteProductsLimit?_.length+"+":_.length,_.length<speedsearch.settings.autocompleteProductsLimit&&e.setAttribute("data-count",_.length)),e.setAttribute("speedsearch-configured","1")}}const o=c.speedsearch_querySelector('.speedsearch-tab[data-type="products"]');if(o&&o.remove(),_&&_.length){const e=c.speedsearch_querySelector(".speedsearch-visual-block-tabs-container");if(e){const t=`<span class="speedsearch-tab" data-type="products">${(0,a.escAttr)(speedsearch.txt.products)}</span>`;e.insertAdjacentHTML("afterbegin",t),p(e,r,s);const n=c.speedsearch_querySelector('.speedsearch-tab[data-type="products"]');n.addEventListener("click",(function(){let e=c.speedsearch_querySelector(".speedsearch-tab.active");n!==e&&(e&&e.classList.remove("active"),n.classList.add("active"),y(`${v} "<b>${m}</b>"`,c),f(c,!0),function(){let e=[];!function(){if(_)for(const t of _)if(-1===e.indexOf(t.permalink)){function s(){return t.hasOwnProperty("image")?`<img alt="${(0,a.escAttr)(t.image.alt)}" src="${(0,a.escAttr)(t.image.src)}">`:""}c.insertAdjacentHTML("beforeend",`<a data-type="product" href="${(0,a.escAttr)(t.permalink)}" ${speedsearch.settings.autocomplete.openProductsInNewWindow?'target="_blank"':""}>\n                                                    ${s()}\n                                                    <span>${(0,a.escAttr)(t.title)}</span>\n                                                </a>`),e.push(t.permalink)}}()}())}),{passive:!0}),n.click()}}else u(c)})),speedsearch.startRequestsEnqueue())}e.forEach((e=>{let t,r=e.speedsearch_querySelector(".speedsearch-search-input"),o=e.speedsearch_querySelector(".speedsearch-search-results-container"),l=e.speedsearch_querySelector(".speedsearch-search-results-text-part");function b(e,t,s){if(e.createTextRange){const a=e.createTextRange();a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",s),a.select(),e.dispatchEvent(new Event("focus"))}else e.setSelectionRange?(e.dispatchEvent(new Event("focus")),e.setSelectionRange(t,s)):void 0!==e.selectionStart&&(e.selectionStart=t,e.selectionEnd=s,e.dispatchEvent(new Event("focus")))}function S(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.classList.add("preactive"),t&&speedsearch.settings.autocomplete.showSelectedOptionTextInTheSearchAsSelectedText){const c=("attribute"===e.getAttribute("data-type")?e.getAttribute("data-name"):e.speedsearch_querySelector(".speedsearch-link-content").textContent).trim().toLowerCase(),n=[r.selectionStart,r.selectionEnd];if(0!==n[0]&&n[1]===r.value.length||!n[1]){const i=n[0]!==n[1]?r.value.slice(0,n[0]):r.value;if(n[0]!==n[1]&&r.value.slice(n[0],n[1])," "!==i.slice(-1)){const d=i.trim().split(" ").slice(-1)[0].toLowerCase(),o=new RegExp("^"+d,"g");function l(){r.value=i}if(c.match(o)){const h=c.replace(o,"");if(!r.hasOwnProperty("speedsearch_selectionOptionLastInputValueWithoutSelection")||r.value.trim().length>=r.speedsearch_selectionOptionLastInputValueWithoutSelection.trim().length){if(s&&s.inputType&&s.inputType.includes("deleteContent"))r.speedsearch_postTextDeleted=!0;else if(!s||!r.speedsearch_postTextDeleted){if(!r.speedsearch_postTextDeleted||!a){r.value=i+h;const p=i.length,u=r.value.length;b(r,p,u),r.speedsearch_selectionOptionLastAddedText=h}r.speedsearch_postTextDeleted&&(r.speedsearch_postTextDeleted=!1)}}else r.speedsearch_postTextDeleted=!0}else l(),r.speedsearch_selectionOptionLastAddedText="";r.speedsearch_selectionOptionLastInputValueWithoutSelection=i}}}}async function L(e,t){const s=document.createElement("div");s.insertAdjacentHTML("beforeend",`\n                            <a class="speedsearch-hidden speedsearch-fake-link" data-type="search-text" data-val="${(0,a.escAttr)(t)}">\n                                <span><span class="speedsearch-link-content">${(0,a.escAttr)(t)}</span></span>\n                                <span class="speedsearch-products-count"></span>\n                            </a>\n                            `);const r=s.firstElementChild;e.append(r),await _(r,!0),r.remove()}function A(e){if(e.speedsearch_selectionOptionLastAddedText){const t=[e.selectionStart,e.selectionEnd],s=t[0]!==t[1]?e.value.slice(t[0],t[1]):"";s&&s===e.speedsearch_selectionOptionLastAddedText&&e.value===e.speedsearch_selectionOptionLastInputValueWithoutSelection+e.speedsearch_selectionOptionLastAddedText&&(e.value=e.value.slice(0,t[0]),e.speedsearch_selectionOptionLastInputValueWithoutSelection="",e.speedsearch_selectionOptionLastAddedText="")}}function T(e){e.classList.remove("preactive")}function E(e){e.scrollIntoView({behavior:"smooth",block:"nearest"})}e.speedsearch_querySelector(".magnifying-glass").addEventListener("click",(()=>{r.focus()}),{passive:!0}),r.addEventListener("input",(function(b){const A=r.closest(".speedsearch-search-container");o.classList.add("speedsearch-autocomplete-loading"),A.speedsearch_loading=!0,function(e,t){const s=t.speedsearch_querySelector(".speedsearch-search-results-previous-searches-container"),a=Array.from(t.getElementsByClassName("speedsearch-search-results-previous-search-value")),r=t.speedsearch_querySelector(".speedsearch-search-results-header");if(a.length){for(const t of a){const s=t.textContent.trim();t.closest(".speedsearch-search-results-previous-search").classList.toggle("speedsearch-hidden",e.value&&!s.startsWith(e.value))}t.speedsearch_querySelector(".speedsearch-search-results-previous-search:not(.speedsearch-hidden)")?s.classList.remove("speedsearch-hidden"):(s.classList.add("speedsearch-hidden"),r.setAttribute("speedsearch-previous-header-value",r.innerHTML),r.innerHTML=`<b>${speedsearch.txt.loading}</b>`)}else r&&r.hasAttribute("speedsearch-previous-header-value")&&(r.innerHTML=r.getAttribute("speedsearch-previous-header-value"),r.removeAttribute("speedsearch-previous-header-value"))}(r,o);let E=l.speedsearch_querySelector("a.preactive");E&&T(E);let w=this.value;const P=b.target.selectionStart,C=b.target.selectionEnd;P&&P===C&&(w=w.substring(0,P)),r.lastAutocompleteInputValue=w,clearTimeout(t),t=setTimeout((async()=>{if(c(A).forEach((e=>{let t=e.speedsearch_querySelector(".speedsearch-search-input");t.speedsearch_searchedForValue=w,e!==A&&(t.value=this.value)})),e.classList.contains("search-in-results")&&speedsearch.deleteOnPageTabsContainers(),d=this,w.trim()){const t=w;function T(e,t){e.classList.contains("active")||(speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory(),function(){t.forEach((e=>{"product"===e.getAttribute("data-type")&&e.classList.remove("active")}));const a=l.closest(".speedsearch-search-container").classList.contains("search-in-results");(a&&!speedsearch.settings.autocomplete.selectPreserveAllFilters||!a)&&speedsearch.filtersResetButtonClick(!0),e.classList.add("active");const c=e.speedsearch_querySelector(".speedsearch-link-content").textContent;speedsearch.autocompletePreviouslyActivatedFilter={type:"text",text:c,searchInputElem:r,changeSearchValue:speedsearch.changeSearchInputValue,count:parseInt(e.getAttribute("data-count"))},document.dispatchEvent(new Event("speedsearch_autocomplete_entity_selected")),speedsearch.addUrlParam("text",c,!0),speedsearch.textUrlParamUpdated(r,c),-1===s.indexOf(r.closest(".speedsearch-search-container"))&&speedsearch.changeSearchInputValue(r,c)}(),speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory(),speedsearch.startRequestsEnqueue())}function E(e){if(e.classList.contains("active"))return;speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory();const t=e.getAttribute("data-archive-link"),s=e.getAttribute("data-slug");if(speedsearch.isCurrentPageContainsMainContainer())if(t&&-1!==speedsearch.bodyClasses.indexOf("tax-product_cat"))window.open(t,"_self");else{let t=document.speedsearch_querySelector(`.speedsearch-category > span[data-slug="${s.speedsearch_selectorEscAttrVal()}"]`);speedsearch.autocompletePreviouslyActivatedFilter={type:"category",elem:t,count:parseInt(e.getAttribute("data-count"))},document.dispatchEvent(new Event("speedsearch_autocomplete_entity_selected"));const a=l.closest(".speedsearch-search-container").classList.contains("search-in-results");(a&&!speedsearch.settings.autocomplete.selectPreserveAllFilters||!a)&&speedsearch.filtersResetButtonClick(!0);let r=new Event("click");r.data={goThroughDisabledElems:!0},t.parentNode.dispatchEvent(r)}else if(t)window.open(t,"_self");else if(speedsearch.settings.categoriesSupportMultiSelect){let e=null;!function(){const t=speedsearch.getParentCategories(s),a=Array.from(speedsearch.getUrlCategories());e=a.find((e=>t.includes(e))),e&&(speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory(),speedsearch.deleteUrlCategory(!1),a.forEach((t=>{e!==t&&speedsearch.addUrlCategory(t)})))}(),e||function(){const t=Array.from(speedsearch.getUrlCategories());let a=[];for(const e of t)speedsearch.getParentCategories(e).includes(s)&&a.push(e);a.length&&(speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory(),speedsearch.deleteUrlCategory(!1),t.forEach((e=>{a.includes(e)||speedsearch.addUrlCategory(e)})),e=!0)}(),speedsearch.addUrlCategory(s),e&&(speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory(),speedsearch.categoryBlocks.forEach((e=>{e.speedsearch_deloadCategories(),e.speedsearch_autoloadCategories()})))}else speedsearch.addUrlCategory(s,!0);speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory()}function P(e){if(e.classList.contains("active"))return;speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory();const t=e.getAttribute("data-archive-link"),s=e.getAttribute("data-id");if(speedsearch.isCurrentPageContainsMainContainer())if(t&&-1!==speedsearch.bodyClasses.indexOf("tax-product_tag"))window.open(t,"_self");else{let t=document.speedsearch_querySelector(`.speedsearch-tag[data-id="${s.speedsearch_selectorEscAttrVal()}"]`);speedsearch.autocompletePreviouslyActivatedFilter={type:"tag",elem:t,count:parseInt(e.getAttribute("data-count"))},document.dispatchEvent(new Event("speedsearch_autocomplete_entity_selected"));const a=l.closest(".speedsearch-search-container").classList.contains("search-in-results");(a&&!speedsearch.settings.autocomplete.selectPreserveAllFilters||!a)&&speedsearch.filtersResetButtonClick(!0);let r=new Event("click");r.data={goThroughDisabledElems:!0},t.dispatchEvent(r)}else t?window.open(t,"_self"):speedsearch.addUrlTag(s);speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory()}function C(e){if(e.classList.contains("active"))return;speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory();let t=e.getAttribute("data-slug"),s=e.getAttribute("data-name"),a=e.getAttribute("data-val"),r=e.getAttribute("data-archive-link");if(speedsearch.isCurrentPageContainsMainContainer())if(r&&speedsearch.getCurrentPageTaxSlugAndTermName())window.open(r,"_self");else{let s=document.speedsearch_querySelector(`.speedsearch-attribute-filter[data-name="${(speedsearch.settings.attributesURLParamsPrefix+t).speedsearch_selectorEscAttrVal()}"] .speedsearch-filter-field[data-val="${a.speedsearch_selectorEscAttrVal()}"]`);speedsearch.autocompletePreviouslyActivatedFilter={type:"attribute",elem:s,count:parseInt(e.getAttribute("data-count"))},document.dispatchEvent(new Event("speedsearch_autocomplete_entity_selected"));const r=e.closest(".speedsearch-search-container").classList.contains("search-in-results");(r&&!speedsearch.settings.autocomplete.selectPreserveAllFilters||!r)&&speedsearch.filtersResetButtonClick(!0);let c=new Event("click");c.data={goThroughDisabledElems:!0},s.dispatchEvent(c)}else r?window.open(r,"_self"):speedsearch.addUrlParam(t,s,!0);speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory()}function O(e){let t=speedsearch.getUrlParam("text"),s=[],a="";return t&&e===t[0]&&s.push("active"),s.length&&(a='class="'+s.join(" ")+'"'),a}function x(e){let t=speedsearch.getUrlCategories(),s=[],a="";return t&&-1!==t.indexOf(e.slug)&&s.push("active"),"show-disabled"===speedsearch.settings.howToTreatEmpty&&0===e.count&&s.push("disabled"),s.length&&(a='class="'+s.join(" ")+'"'),a}function q(e){let t=speedsearch.getUrlTags(!0),s=[],a="";return t&&-1!==t.indexOf(Number(e.id))&&s.push("active"),"show-disabled"===speedsearch.settings.howToTreatEmpty&&0===e.count&&s.push("disabled"),s.length&&(a='class="'+s.join(" ")+'"'),a}function $(e){let t=[],s="",a=e.val?document.speedsearch_querySelector(`.speedsearch-filter[data-name="${(speedsearch.settings.attributesURLParamsPrefix+e.slug).speedsearch_selectorEscAttrVal()}"] .speedsearch-filter-field[data-val="${e.val.speedsearch_selectorEscAttrVal()}"]`):null;a&&a.classList.contains("active")&&t.push("active"),"show-disabled"===speedsearch.settings.howToTreatEmpty&&0===e.count&&t.push("disabled");const r=speedsearch.getCurrentPageTaxSlugAndTermName();return r&&e.slug===r.tax&&e.name===r.term&&-1===t.indexOf("active")&&(t.push("active"),t.push("current-tax-attribute")),t.length&&(s='class="'+t.join(" ")+'"'),s}function N(e){let t="";return e.hasOwnProperty("archiveLink")&&(t=`data-archive-link="${(0,a.escAttr)(e.archiveLink)}"`),t}!async function(){const s=(speedsearch.hasOwnProperty("latestCounter_autocomplete")?speedsearch.latestCounter_autocomplete:0)+1;speedsearch.latestCounter_autocomplete=s,speedsearch.latestAutocompleteTimestamp=performance.now();const n=speedsearch.deepMerge(e.classList.contains("search-in-results")?i():{},{search:t.toLowerCase().trim()}),d="latestCounter_autocompleteRequestParams";let A;speedsearch[d]=JSON.stringify(n);try{A=await speedsearch.fetchJsonData("autocomplete",n,speedsearch.autocompleteAutoloaded)}catch(e){A=e}if(s!==speedsearch.latestCounter_autocomplete&&JSON.stringify(n)!==speedsearch[d])return;if(w!==r.lastAutocompleteInputValue)return;let I=A.products,k=A.categories,B=A.tags,U=A.attributes,H=A.order;c(o).forEach(((e,s)=>{const c=e.speedsearch_querySelector(".speedsearch-search-results-text-part"),n=e.speedsearch_querySelector(".speedsearch-search-results-visual-part"),i=e.closest(".speedsearch-search-container"),d=e.nextElementSibling,o=e.parentNode;e.remove(),c.innerHTML="";const l={text:function(){if(c.insertAdjacentHTML("beforeend",`<a class="speedsearch-search-heading">${(0,a.escAttr)(speedsearch.txt.productsWithTheWord)}</a>`),Object.keys(I).map((e=>e.toLowerCase())).includes(t.trim().toLowerCase())||c.insertAdjacentHTML("beforeend",`<a data-type="search-text" data-val="${(0,a.escAttr)(t)}" ${O(t)}>\n                                                            <span><span class="speedsearch-link-content">${(0,a.escAttr)(t)}</span></span>\n                                                            <span class="speedsearch-products-count"></span>\n                                                        </a>`),Object.keys(I).length){let e=speedsearch.getUrlParam("text");for(let t in I){let s="";e&&e[0]===t&&(s='class="active"'),c.insertAdjacentHTML("beforeend",`<a ${s} data-type="product" data-count="${(0,a.escAttr)(I[t])}">\n\t                                                            <span><span class="speedsearch-link-content">${(0,a.escAttr)(t)}</span></span>\n\t                                                            <span class="speedsearch-products-count">${(0,a.escAttr)(I[t])}</span>\n                                                        \t</a>`)}}},categories:function(){if(k.length){c.insertAdjacentHTML("beforeend",`<a class="speedsearch-search-heading">${(0,a.escAttr)(speedsearch.txt.productsWithTheCategory)}</a>`);let e=[];k.forEach((t=>{-1===e.indexOf(t.slug)&&(c.insertAdjacentHTML("beforeend",`<a ${x(t)} ${N(t)} data-type="category"\n                                                                    data-count="${(0,a.escAttr)(t.count)}" data-slug="${(0,a.escAttr)(t.slug)}">\n\t                                                                <span class="speedsearch-autocomplete-category-name-container">\n\t                                                                    <span><span class="speedsearch-link-content">${(0,a.escAttr)(t.name)}</span></span>\n\t                                                                    <span>${(0,a.escAttr)(t.hasOwnProperty("parent")?t.parent:"")}</span>\n\t                                                                </span>\n\t                                                                <span class="speedsearch-products-count">${(0,a.escAttr)(t.count)}</span>\n                                                            \t</a>`),e.push(t.slug))}))}},tags:function(){if(B.length){c.insertAdjacentHTML("beforeend",`<a class="speedsearch-search-heading">${speedsearch.txt.productsWithTheTag}</a>`);let e=[];B.forEach((t=>{-1===e.indexOf(t.id)&&(c.insertAdjacentHTML("beforeend",`<a ${q(t)} ${N(t)} data-type="tag"\n                                                                    data-count="${(0,a.escAttr)(t.count)}" data-id="${(0,a.escAttr)(t.id)}">\n                                                                <span><span class="speedsearch-link-content">${(0,a.escAttr)(t.name)}</span></span>\n                                                                <span class="speedsearch-products-count">${(0,a.escAttr)(t.count)}</span>\n                                                            </a>`),e.push(t.id))}))}},attributes:function(){if(U.length){c.insertAdjacentHTML("beforeend",`<a class="speedsearch-search-heading">${speedsearch.txt.productsWithTheAttribute}</a>`);let e=[];U.forEach((t=>{-1===e.indexOf(t.slug+t.val)&&"duct_type"!==t.slug&&(c.insertAdjacentHTML("beforeend",`<a ${$(t)} ${N(t)} data-type="attribute" \n\t\t\t                                                            data-count="${(0,a.escAttr)(t.count)}" data-slug="${(0,a.escAttr)(t.slug)}" \n\t\t\t                                                            data-val="${(0,a.escAttr)(t.val)}" data-name="${(0,a.escAttr)(t.name)}">\n\t\t\t                                                                <span><span class="speedsearch-link-content">${(0,a.escAttr)(t.taxonomyName)}: <i>${(0,a.escAttr)(t.name)}</i></span></span>\n\t\t\t                                                                <span class="speedsearch-products-count">${(0,a.escAttr)(t.count)}</span>\n\t\t\t                                                        </a>`),e.push(t.slug+t.val))}))}}};if(speedsearch.settings.autocomplete.deleteSearchBlocksAndInsteadShowSingularResultsWithLabelsBelow)for(const e in l)l[e]();else H.forEach((e=>{l[e]()}));if(speedsearch.settings.autocomplete.deleteSearchBlocksAndInsteadShowSingularResultsWithLabelsBelow){Array.from(c.getElementsByClassName("speedsearch-search-heading")).forEach((e=>{e.remove()}));let e=Array.from(c.speedsearch_querySelectorAll("a"));e.sort(((e,t)=>e.hasAttribute("data-count")&&t.hasAttribute("data-count")?parseInt(t.getAttribute("data-count"))-parseInt(e.getAttribute("data-count")):e.hasAttribute("data-count")?t.hasAttribute("data-count")?void 0:1:-1)),e.forEach((e=>{e.remove()})),e.forEach((e=>{c.append(e)})),e.forEach((e=>{const t=e.getAttribute("data-type"),s=e.firstElementChild;function r(e){s.insertAdjacentHTML("beforeend",`<div class="speedsearch-link-label">${(0,a.escAttr)(e)}</div>`)}if(["search-text","product"].includes(t))r(speedsearch.txt["word-s"]);else if("category"===t)r(speedsearch.txt.category);else if("tag"===t)r(speedsearch.txt.tag);else if("attribute"===t){const e=s.speedsearch_querySelector(".speedsearch-link-content").firstChild;r(e.textContent.replace(": ","")),e.remove(),s.firstElementChild.classList.add("speedsearch-no-font-style")}}))}if(speedsearch.settings.autocomplete.automaticallySelectTheFirstResult&&!speedsearch.isMobileViewWidth()){let e=c.speedsearch_querySelector("a:not(.speedsearch-search-heading):not(.speedsearch-fake-link)");e&&S(e,r===b.target,b)}g(n,c,r);let h=Array.from(c.getElementsByClassName("speedsearch-search-heading"));1===h.length&&"HR"===h[0].tagName&&h[0].remove(),async function(){speedsearch.displayCategoriesTab=function(e){let t=[];k.length&&function(){for(const s of k)-1===t.indexOf(s.slug)&&(e.insertAdjacentHTML("beforeend",`\n                                                                    <a ${x(s)} data-type="category"\n                                                                            data-count="${(0,a.escAttr)(s.count)}" data-slug="${(0,a.escAttr)(s.slug)}">\n                                                                        <span class="speedsearch-autocomplete-category-name-container">\n                                                                            <span>${(0,a.escAttr)(s.name)}</span>\n                                                                            <span>${(0,a.escAttr)(s.hasOwnProperty("parent")?s.parent:"")}</span>\n                                                                        </span>\n                                                                    </a>\n                                                                    `),t.push(s.slug))}(),m(r,e),e.speedsearch_querySelectorAll('a[data-type="category"]:not(.disabled)').forEach((e=>{e.addEventListener("click",(function(){E(e),v()}),{passive:!0})}))},speedsearch.displayTagsTab=function(e){let t=[];B.length&&function(){for(const s of B)-1===t.indexOf(s.id)&&(e.insertAdjacentHTML("beforeend",`\n                                                        <a ${q(s)} data-type="tag" data-count="${(0,a.escAttr)(s.count)}"  data-id="${(0,a.escAttr)(s.id)}">\n                                                            <span>${(0,a.escAttr)(s.name)}</span>\n                                                        </a>\n                                                        `),t.push(s.id))}(),m(r,e),e.speedsearch_querySelectorAll('a[data-type="tag"]:not(.disabled)').forEach((e=>{e.addEventListener("click",(function(){P(e),v()}),{passive:!0})}))},speedsearch.displayAttributesTab=function(e,t){let s=[];function c(e){let t="";return e.hasOwnProperty("img")&&e.img.hasOwnProperty("url")?t+=`<img alt="${(0,a.escAttr)(e.img.alt)}" src="${(0,a.escAttr)(e.img.url)}">`:e.hasOwnProperty("img")&&!e.img.hasOwnProperty("url")&&"object"==typeof e.img&&(e.img.hasOwnProperty("1")&&e.img.hasOwnProperty("2")?t+=`<span class="color" style="background: linear-gradient(135deg, ${e.img[1]} 51%, ${e.img[2]} 0%)"></span>`:e.img.hasOwnProperty("1")?t+=`<span class="color" data-color-num="1" style="background-color: ${e.img[1]}"></span>`:e.img.hasOwnProperty("2")&&(t+=`<span class="color" data-color-num="2" style="background-color: ${e.img[2]}"></span>`)),t}function n(e){let t="";return e.hasOwnProperty("img")&&-1!==speedsearch.settings.autocomplete.onlySwatchesFilters.indexOf(e.slug)||(t+=`<span>${e.name}</span>`),t}let i="",d="";speedsearch.settings.autocomplete.autocompleteHeadings.hasOwnProperty(e)&&speedsearch.settings.autocomplete.autocompleteHeadings[e].hasOwnProperty("before")&&(i=speedsearch.settings.autocomplete.autocompleteHeadings[e].before),speedsearch.settings.autocomplete.autocompleteHeadings.hasOwnProperty(e)&&speedsearch.settings.autocomplete.autocompleteHeadings[e].hasOwnProperty("after")&&(d=speedsearch.settings.autocomplete.autocompleteHeadings[e].after),i||d?y(`${i}"<b>${r.speedsearch_searchedForValue}</b>"${d}`,t):m(r,t),U.length&&function(){for(const r of U)-1===s.indexOf(r.name)&&r.slug===e&&(t.insertAdjacentHTML("beforeend",`\n                                                                    <a ${$(r)} ${N(r)} data-type="attribute" \n                                                                            data-count="${(0,a.escAttr)(r.count)}" data-slug="${(0,a.escAttr)(r.slug)}"\n                                                                            data-val="${(0,a.escAttr)(r.val)}" data-name="${(0,a.escAttr)(r.name)}">\n                                                                        ${c(r)}\n                                                                        ${n(r)}\n                                                                    </a>\n                                                                `),s.push(r.name))}(),t.speedsearch_querySelectorAll('a[data-type="attribute"]:not(.disabled)').forEach((e=>{e.addEventListener("click",(function(){C(e),v()}),{passive:!0})}))};const e=n.speedsearch_querySelector(".speedsearch-search-results-header");e&&e.remove(),n.innerHTML="";let t="";const c={categories:function(){Object.keys(k).length&&(t+=`<span class="speedsearch-tab" data-type="categories">${speedsearch.txt.categories}</span>`)},tags:function(){Object.keys(B).length&&(t+=`<span class="speedsearch-tab" data-type="tags">${speedsearch.txt.tags}</span>`)},attributes:function(){if(U.length){let e=[];for(const s of U)-1===e.indexOf(s.taxonomyName)&&(t+=`\n                                                                <span class="speedsearch-tab" data-type="attributes" data-attribute="${(0,a.escAttr)(s.slug)}">\n                                                                    ${s.taxonomyName}\n                                                                </span>\n                                                            `,e.push(s.taxonomyName))}}};H.forEach((e=>{c.hasOwnProperty(e)&&c[e]()})),n.insertAdjacentHTML("beforeend",`\n                                                <span class="speedsearch-visual-block-tabs-container">${t}</span>\n                                                `),p(n.speedsearch_querySelector(".speedsearch-visual-block-tabs-container"),i,s),e&&n.append(e),Array.from(n.getElementsByClassName("speedsearch-tab")).forEach((e=>{e.addEventListener("click",(function(){let t=n.speedsearch_querySelector(".speedsearch-tab.active");if(e!==t){t&&t.classList.remove("active"),e.classList.add("active"),f(n,!0);let s=e.getAttribute("data-type");if("categories"===s)speedsearch.displayCategoriesTab(n);else if("tags"===s)speedsearch.displayTagsTab(n);else if("attributes"===s){let t=e.getAttribute("data-attribute");speedsearch.displayAttributesTab(t,n)}n.speedsearch_querySelectorAll("a[data-type]:not(.disabled)").forEach((e=>{e.addEventListener("click",(function(){speedsearch.selectProductTabsIfPresent()}),{passive:!0})}))}}),{passive:!0})})),u(n)}();let A=c.speedsearch_querySelectorAll("a:not(.disabled)");A.forEach((e=>{e.addEventListener("click",(function(){let t=e.getAttribute("data-type");["search-text","product"].includes(t)?T(e,A):"category"===t?E(e):"tag"===t?P(e):"attribute"===t&&C(e),v();let s=c.speedsearch_querySelector("a.preactive");s&&s.classList.remove("preactive");let a=c.speedsearch_querySelector("a:not(.speedsearch-search-heading):not(.speedsearch-fake-link)");a&&S(a,r===b.target,b)}),{passive:!0})})),d?d.parentNode.insertBefore(e,d):o.append(e);const w=c.speedsearch_querySelector("a.preactive");0===s&&(w?_(w):L(c,r.speedsearch_searchedForValue)),e.classList.remove("speedsearch-autocomplete-loading"),i.speedsearch_loading=!1,i.dispatchEvent(new Event("speedsearch_autocomplete_loaded",{bubbles:!0}))})),speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters&&r.speedsearch_searchedForValue===r.value&&" "===r.value.slice(-1)&&speedsearch.autocompleteFilteringBasedOnSearchTerms.check(r,l),speedsearch.autocompleteAutoloaded||(speedsearch.autocompleteAutoloaded=!0),h(l.parentNode)}()}else c(o).forEach((e=>{const t=e.speedsearch_querySelector(".speedsearch-search-results-text-part"),s=e.speedsearch_querySelector(".speedsearch-search-results-visual-part"),a=e.closest(".speedsearch-search-container"),r=a.speedsearch_querySelector(".speedsearch-search-input");t.innerHTML="",s.innerHTML="",n(s,r,!1),r.speedsearch_selectionOptionLastInputValueWithoutSelection="",r.speedsearch_selectionOptionLastAddedText="",r.speedsearch_postTextDeleted=!1,e.classList.remove("speedsearch-autocomplete-loading"),a.speedsearch_loading=!1,a.dispatchEvent(new Event("speedsearch_autocomplete_loaded",{bubbles:!0}))}))}),50)}),{passive:!0}),r.addEventListener("keydown",(function(e){"Escape"!==e.key&&("Enter"!==e.key||e.ctrlKey)||r.speedsearch_searchedForValue||(speedsearch.deleteUrlParam("text"),speedsearch.textUrlParamUpdated(r),"Escape"===e.key&&r.blur())}),{passive:!0}),e.speedsearch_arrowUpKeyPressHandler=async function(){let e,t,s=l.speedsearch_querySelectorAll("a:not(.speedsearch-search-heading):not(.speedsearch-fake-link)");if(s.forEach(((s,a)=>{s.classList.contains("preactive")&&(e=a,t=s)})),s.length)if(0===e)T(t),E(r),L(l,r.speedsearch_searchedForValue),A(r);else{let a;void 0===e&&(e=0,t=s[0]),a=0===e?s[s.length-1]:s[e-1],T(t),S(a,!0),E(a),_(a,!0)}},e.speedsearch_arrowDownKeyPressHandler=async function(){let e,t,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=l.speedsearch_querySelectorAll("a:not(.speedsearch-search-heading):not(.speedsearch-fake-link)");if(c.forEach(((s,a)=>{s.classList.contains("preactive")&&(e=a,t=s)})),c.length)if(c.length-1===e)T(t),E(r),L(l,r.speedsearch_searchedForValue),A(r);else{void 0===e&&(e=c.length-1,t=c[c.length-1]);let r=c[(e+1)%c.length];T(t),S(r,s,null,!a),_(r,!0),s&&E(r)}},e.speedsearch_escapeKeyPressHandler=function(){document.speedsearch_querySelector(".speedsearch-search-results-container.active")&&e.classList.remove("active")},e.speedsearch_enterKeyPressHandler=function(){function t(){l.parentNode.classList.remove("active");let e=l.speedsearch_querySelector("a.preactive");if(e)e.click();else if(r.value){speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory();const e=l.closest(".speedsearch-search-container").classList.contains("search-in-results");(e&&!speedsearch.settings.autocomplete.selectPreserveAllFilters||!e)&&speedsearch.filtersResetButtonClick(!0),speedsearch.addUrlParam("text",r.value,!0),speedsearch.textUrlParamUpdated(r,r.value),speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory()}}r.blur(),e.speedsearch_loading?e.addEventListener("speedsearch_autocomplete_loaded",t,{once:!0}):t()},document.addEventListener("keydown",(function(t){if(l.parentNode.classList.contains("active"))if("Enter"===t.key)t.preventDefault(),e.speedsearch_enterKeyPressHandler();else if("ArrowUp"===t.key){t.preventDefault();const s=e.speedsearch_querySelector(".speedsearch-search-results-container.active");o===s&&e.speedsearch_arrowUpKeyPressHandler()}else if("ArrowDown"===t.key){t.preventDefault();const s=e.speedsearch_querySelector(".speedsearch-search-results-container.active");o===s&&e.speedsearch_arrowDownKeyPressHandler(!0,!0)}else"Escape"===t.key?(t.preventDefault(),e.speedsearch_escapeKeyPressHandler()):"ArrowRight"===t.key&&t.target.value.length===t.target.selectionStart&&t.target.value.length===t.target.selectionEnd?(t.preventDefault(),e.speedsearch_enterKeyPressHandler(),r.focus()):speedsearch.settings.autocomplete.automaticFilteringBasedOnSelectedFilters&&"Backspace"===t.key&&t.target.classList.contains("speedsearch-search-input")&&t.target.closest(".speedsearch-search-container").classList.contains("search-in-results")&&0===t.target.selectionStart&&0===t.target.selectionEnd&&(t.preventDefault(),speedsearch.autocompleteFilteringBasedOnSearchTerms.deleteTheLast(r))})),e.speedsearch_querySelector(".speedsearch-search-clear-btn").addEventListener("click",(function(){speedsearch.changeSearchInputValue(r,""),speedsearch.deleteUrlParam("text"),speedsearch.textUrlParamUpdated(r),Array.from(e.getElementsByClassName("speedsearch-autocomplete-prepend-part")).forEach((e=>e.click()))}),{passive:!0}),r.speedsearch_focus=function(){l.parentNode.classList.add("active"),h(l.parentNode)},r.addEventListener("focus",(function(e){e.isTrusted&&r.speedsearch_focus()}),{passive:!0})})),window.addEventListener("resize",(function(){r&&(clearTimeout(l),l=setTimeout((function(){h(r)}),50))}),{passive:!0}),document.addEventListener("mousedown",o,{passive:!0}),document.addEventListener("speedsearch_after_category_change",(e=>{let s=e.data.categorySlug,a=e.data.isSelected;e.data.isAllCategoriesActive?c(t[0]).forEach((e=>{e.speedsearch_querySelectorAll('a.active[data-type="category"]').forEach((e=>{e.classList.remove("active")}))})):c(t[0]).forEach((e=>{let t=e.speedsearch_querySelectorAll(`a[data-type="category"][data-slug="${s.speedsearch_selectorEscAttrVal()}"]`);t.length&&(speedsearch.settings.categoriesSupportMultiSelect||e.speedsearch_querySelectorAll('a[data-type="category"]').forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{a?e.classList.add("active"):e.classList.remove("active")})))}))})),document.addEventListener("speedsearch_after_tag_change",(e=>{let s=e.data.tagID,a=e.data.isSelected;c(t[0]).forEach((e=>{let t=e.speedsearch_querySelectorAll(`a[data-type="tag"][data-id="${s}"]`);t.length&&t.forEach((e=>{a?e.classList.add("active"):e.classList.remove("active")}))}))})),document.addEventListener("speedsearch_after_attribute_change",(e=>{let s=e.data.attributeSlug,a=e.data.value,r=e.data.isSelected,n=e.data.isSingleSelect;c(t[0]).forEach((e=>{let t=e.speedsearch_querySelectorAll(`a[data-type="attribute"][data-slug="${s.speedsearch_selectorEscAttrVal()}"][data-val="${a.speedsearch_selectorEscAttrVal()}"]`);t.length&&(n&&e.speedsearch_querySelectorAll(`a[data-type="attribute"][data-slug="${s.speedsearch_selectorEscAttrVal()}"]`).forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{r?e.classList.add("active"):e.classList.remove("active")})))}))})),document.addEventListener("speedsearch_after_text_change",(e=>{let s=e.data.text;c(t[0]).forEach((e=>{if(s){let t=e.speedsearch_querySelector(`a[data-type="search-text"][data-val="${s.speedsearch_selectorEscAttrVal()}"]`);t&&t.classList.add("active")}else{let t=e.speedsearch_querySelectorAll('a[data-type="search-text"].active');t.length&&t.forEach((e=>{e.classList.remove("active")}))}}))})),e.forEach((e=>{e.speedsearch_querySelector(".speedsearch-search-input").dispatchEvent(new Event("input"))})),e.forEach((e=>{e.classList.add("speedsearch-initialized")})),speedsearch.autoloadText=function(){let e=speedsearch.getUrlParam("text");if(e){speedsearch.autocompleteAutoloaded=!1;const t=document.body.speedsearch_querySelectorAll(".speedsearch-search-container.search-in-results .speedsearch-search-input");for(const s of t)speedsearch.changeSearchInputValue(s,e),s.classList.add("speedsearch-initialized")}},speedsearch.autoloadText()}speedsearch.hasOwnProperty("settings")?l():document.addEventListener("speedsearch_settings_retrieved",l)}}(),async function(){function e(e){e.innerHTML=""}function t(t){t.speedsearch_querySelector(".speedsearch-expand-tags").addEventListener("click",(function(){e(t),speedsearch.tagsData=speedsearch.tagsData.sort(((e,t)=>e.name<t.name?-1:e.name===t.name?0:1)),s(t),speedsearch.firstLayerFiltering.hasOwnProperty("filterTagsByCategories")&&speedsearch.firstLayerFiltering.filterTagsByCategories(!1),speedsearch.secondLayerFiltering.hasOwnProperty("filterTagsByTagsAttributesAndToggles")&&speedsearch.secondLayerFiltering.filterTagsByTagsAttributesAndToggles(!1),t.classList.add("speedsearch-expanded"),Array.from(t.getElementsByClassName("speedsearch-tag")).forEach((e=>{e.hidden=!1})),t.speedsearch_querySelector(".speedsearch-expand-tags").hidden=!0,speedsearch.rearrangeTagsHandler(t),speedsearch.startRequestsEnqueue()}),{passive:!0}),t.speedsearch_querySelector(".speedsearch-collapse-tags").addEventListener("click",(function(){e(t),speedsearch.tagsData=speedsearch.tagsData.sort(((e,t)=>e.count>t.count?-1:e.count===t.count?e.name<t.name?-1:e.name===t.name?0:1:1)),s(t),speedsearch.firstLayerFiltering.hasOwnProperty("filterTagsByCategories")&&speedsearch.firstLayerFiltering.filterTagsByCategories(!1),speedsearch.secondLayerFiltering.hasOwnProperty("filterTagsByTagsAttributesAndToggles")&&speedsearch.secondLayerFiltering.filterTagsByTagsAttributesAndToggles(!1),t.classList.remove("speedsearch-expanded"),Array.from(t.getElementsByClassName("speedsearch-tag")).forEach(((e,t)=>{speedsearch.tagsData.length-1>=speedsearch.TAGS_INITIAL_SHOW_LIMIT&&(e.hidden=!0)})),t.speedsearch_querySelector(".speedsearch-expand-tags").hidden=!1,speedsearch.rearrangeTagsHandler(t),speedsearch.startRequestsEnqueue()}),{passive:!0})}function s(e){let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s&&function(){function t(){let e="";return r>=speedsearch.TAGS_INITIAL_SHOW_LIMIT&&(e+="hidden"),e}function s(e){let t="";return"show-disabled"===speedsearch.settings.howToTreatEmpty&&0===e.count&&(t+="disabled"),t}let r=0;for(let c of speedsearch.tagsData)e.insertAdjacentHTML("beforeend",`\n                        <a href="?tags=${c.slug}" ${t()} data-id="${(0,a.escAttr)(c.id)}" rel="tag" \n                            class="speedsearch-tag ${s(c)}">\n                                ${(0,a.escAttr)(c.name)}\n                        </a>\n                    `),r++;speedsearch.tagsData.length-1>=speedsearch.TAGS_INITIAL_SHOW_LIMIT&&speedsearch.addExpandCollapseButtonsToTheTagsContainer(e)}();let c=e.speedsearch_querySelectorAll(".speedsearch-tag:not(.speedsearch-expand-tags):not(.speedsearch-collapse-tags)");!function(){speedsearch.tagsData.length-1>=speedsearch.TAGS_INITIAL_SHOW_LIMIT&&t(e);for(let e of c){const t=parseInt(e.getAttribute("data-id")),s=e.getAttribute("data-slug");e.addEventListener("click",(function(a){if(a.preventDefault(),(e.classList.contains("disabled")||e.classList.contains("first-layer-filtering-disabled")||e.classList.contains("second-layer-filtering-disabled"))&&!(a.hasOwnProperty("data")&&a.data.hasOwnProperty("goThroughDisabledElems")&&a.data.goThroughDisabledElems||e.classList.contains("active")))return;e.classList.contains("active")?(r.forEach((e=>{let s=e.speedsearch_querySelector(`.speedsearch-tag[data-id="${t}"]`);s&&s.classList.remove("active")})),speedsearch.deleteUrlTag(t)):(r.forEach((e=>{speedsearch.settings.tagsSupportMultiselect||e.speedsearch_querySelectorAll(".speedsearch-tag.active").forEach((e=>{e.classList.remove("active")}));let s=e.speedsearch_querySelector(`.speedsearch-tag[data-id="${t}"]`);s&&s.classList.add("active")})),speedsearch.addUrlTag(t,!speedsearch.settings.tagsSupportMultiselect));let c=new Event("speedsearch_after_tag_change");c.data={tagID:t,isSelected:e.classList.contains("active"),tagSlug:s,tagName:e.textContent.trim()},document.dispatchEvent(c)}))}}(),e.speedsearch_autoloadTags()}speedsearch.initTagsContainer=function(e){e.speedsearch_autoloadTags=function(){let t=speedsearch.getUrlTags(!0);t&&t.forEach((t=>{e.speedsearch_querySelectorAll(`.speedsearch-tag[data-id="${t}"]:not(.speedsearch-filter-field)`).forEach((e=>{e.classList.add("active")}))}))},e.speedsearch_deloadTags=function(){e.speedsearch_querySelectorAll(".speedsearch-tag.active:not(.speedsearch-filter-field)").forEach((e=>{e.classList.remove("active")}))},s(e,!1)},speedsearch.addExpandCollapseButtonsToTheTagsContainer=function(e){e.insertAdjacentHTML("beforeend",`\n                <span class="speedsearch-tag speedsearch-expand-tags">\n                    <span class="text">${speedsearch.txt.expand}</span>\n                    <svg fill="#fff" xmlns="http://www.w3.org/2000/svg" width="10" height="10"><path d="M.8 3L5 6.4 9.2 3l.8.6-5 4-5-4z"/></svg>\n                </span>\n            `),e.insertAdjacentHTML("beforeend",`\n                <span hidden class="speedsearch-tag speedsearch-collapse-tags">\n                    <span class="text">${speedsearch.txt.collapse}</span>\n                    <svg fill="#fff" xmlns="http://www.w3.org/2000/svg" width="10" height="10"><path d="M9.2 7L5 3.6.8 7 0 6.4l5-4 5 4z"/></svg>\n                </span>\n            `)},speedsearch.TAGS_INITIAL_SHOW_LIMIT=speedsearch.tags_initialShowLimit.data,document.addEventListener("speedsearch_after_tags_init",(function(){speedsearch.tagsInitialized=!0}));let r=document.body.speedsearch_querySelectorAll(".speedsearch-tags .speedsearch-tags-container");if(r.length){if(!speedsearch.hasOwnProperty("tags"))try{speedsearch.tags=await speedsearch.fetchJsonData("get_tags",{},!1,!1,!0,!0)}catch(n){speedsearch.tags=n}function c(){if(r.forEach((e=>{speedsearch.initTagsContainer(e)})),-1!==speedsearch.bodyClasses.indexOf("tax-product_tag"))for(const e of speedsearch.bodyClasses)if(/^term-\d+$/.test(e)){let t=Number(e.replace("term-",""));document.body.speedsearch_querySelectorAll(`.speedsearch-tag[data-id="${t}"]`).forEach((e=>{e.classList.add("speedsearch-hidden")}));break}function e(){speedsearch.hasOwnProperty("secondLayerFilteringFinished")&&speedsearch.secondLayerFilteringFinished?t():document.addEventListener("speedsearch_after_second_layer_filtering_finished",t,{once:!0})}function t(){r.forEach((e=>{e.classList.add("loaded")})),document.dispatchEvent(new Event("speedsearch_after_tags_init"))}speedsearch.hasOwnProperty("firstLayerFilteringFinished")&&speedsearch.firstLayerFilteringFinished?e():document.addEventListener("speedsearch_after_first_layer_filtering_finished",e,{once:!0})}speedsearch.tagsData=speedsearch.tags.data,speedsearch.hasOwnProperty("settings")?c():document.addEventListener("speedsearch_settings_retrieved",c)}else{function i(){document.dispatchEvent(new Event("speedsearch_after_tags_init"))}speedsearch.hasOwnProperty("settings")?i():document.addEventListener("speedsearch_settings_retrieved",i)}}(),speedsearch.initFilters(),async function(){if(speedsearch.firstLayerFiltering=async function(){speedsearch.isInDemoMode()?speedsearch.firstLayerFiltering.onFinish():(speedsearch.firstLayerFiltering.filterTagsByCategories=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!speedsearch.allTagsElems.length)return;speedsearch.stopPushingUrlHistory();let t=speedsearch.getUrlCategories();if(t){const s="latestCounter_filterTagsByCategories",a=(speedsearch.hasOwnProperty(s)?speedsearch[s]:0)+1;speedsearch[s]=a;const r=JSON.parse(sessionStorage.getItem(`filterByCategories_tagsIdsToShow-${JSON.stringify(speedsearch.getUrlCategories()).speedsearch_getCustomHash()}`));if(r)speedsearch.filterByCategories_tagsIdsToShow=r;else try{speedsearch.filterByCategories_tagsIdsToShow=await speedsearch.fetchJsonData("filter_tags",{categories:t},!1,!1,!0,!0)}catch(n){speedsearch.filterByCategories_tagsIdsToShow=n}if(!1===speedsearch.filterByCategories_tagsIdsToShow||speedsearch.filterByCategories_tagsIdsToShow.hasOwnProperty("error"))return;if(a!==speedsearch[s])return;function c(){document.body.speedsearch_querySelectorAll(".speedsearch-tag:not(.speedsearch-expand-tags):not(.speedsearch-collapse-tags):not(.speedsearch-filter-field)").forEach((e=>{const t=parseInt(e.getAttribute("data-id"));-1===speedsearch.filterByCategories_tagsIdsToShow.indexOf(t)?(e.classList.contains("active")&&e.click(),e.classList.add("first-layer-filtering-affected"),speedsearch.settings.hideUnavailableTags?e.classList.add("first-layer-filtering-hidden"):e.classList.add("first-layer-filtering-disabled")):(e.classList.remove("first-layer-filtering-affected"),e.classList.remove("first-layer-filtering-hidden"),e.classList.remove("first-layer-filtering-disabled"))})),e&&speedsearch.rearrangeTags(),speedsearch.startPushingUrlHistory()}speedsearch.hasOwnProperty("tagsInitialized")&&speedsearch.tagsInitialized?c():document.addEventListener("speedsearch_after_tags_init",c)}else Array.from(document.getElementsByClassName("speedsearch-tag")).forEach((e=>{e.style.display="",e.classList.remove("first-layer-filtering-affected"),e.classList.remove("first-layer-filtering-hidden"),e.classList.remove("first-layer-filtering-disabled")})),e&&speedsearch.rearrangeTags(),speedsearch.startPushingUrlHistory()},speedsearch.firstLayerFiltering.filterAttributeTermsByCategories=async function(){if(!speedsearch.allFiltersElems.length||speedsearch.hasOwnProperty("settings")&&"show"===speedsearch.settings.howToTreatEmpty)return;function e(e){if(e.speedsearch_querySelector(".speedsearch-filter-field:not(.disabled):not(.first-layer-filtering-disabled):not(.second-layer-filtering-disabled)")){e.classList.remove("first-layer-filtering-disabled"),e.classList.remove("second-layer-filtering-disabled");const t=e.closest(".speedsearch-filter-parent-node-container");t&&(t.classList.remove("first-layer-filtering-disabled"),t.classList.remove("second-layer-filtering-disabled"))}else{e.classList.add("first-layer-filtering-disabled");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.add("first-layer-filtering-disabled")}if(e.speedsearch_querySelector(".speedsearch-filter-field:not(.speedsearch-hidden):not(.first-layer-filtering-hidden):not(.second-layer-filtering-hidden)")){e.classList.remove("first-layer-filtering-hidden"),e.classList.remove("second-layer-filtering-hidden");const t=e.closest(".speedsearch-filter-parent-node-container");t&&(t.classList.remove("first-layer-filtering-hidden"),t.classList.remove("second-layer-filtering-hidden"))}else{e.classList.add("first-layer-filtering-hidden");const t=e.closest(".speedsearch-filter-parent-node-container");t&&t.classList.add("first-layer-filtering-hidden")}}speedsearch.stopPushingUrlHistory();let t=speedsearch.getUrlCategories();if(t){let s=Array.from(document.getElementsByClassName("speedsearch-attribute-filter")),a=[];s.forEach((e=>{const t=e.getAttribute("data-name");-1===a.indexOf(t)&&a.push(t)}));let r=a.length;function c(){r--,n()}function n(){0===r&&(speedsearch.startPushingUrlHistory(),document.dispatchEvent(new Event("speedsearch_after_attribute_terms_filtering_finished")))}n(),a.forEach((async s=>{const a=`latestCounter_filterAttributeTermsByCategories_${s=s.replace(new RegExp(`^${speedsearch.settings.attributesURLParamsPrefix}`),"")}`,r=(speedsearch.hasOwnProperty(a)?speedsearch[a]:0)+1;speedsearch[a]=r;const n=JSON.parse(sessionStorage.getItem(`filterByCategories_attributeTermNamesToShow-${JSON.stringify(speedsearch.getUrlCategories()).speedsearch_getCustomHash()}`));if(speedsearch.filterByCategories_attributeTermNamesToShow||(speedsearch.filterByCategories_attributeTermNamesToShow={}),n)speedsearch.filterByCategories_attributeTermNamesToShow[s]=n[s];else try{speedsearch.filterByCategories_attributeTermNamesToShow[s]=await speedsearch.fetchJsonData("filter_attribute_terms",{attributeSlug:s,categories:t},!1,!1,!0,!0)}catch(e){speedsearch.filterByCategories_attributeTermNamesToShow[s]=e}function i(){document.body.speedsearch_querySelectorAll(`.speedsearch-attribute-filter[data-name="${speedsearch.settings.attributesURLParamsPrefix}${s}"]:not(.speedsearch-settings-filter)`).forEach((t=>{t.speedsearch_querySelectorAll(".speedsearch-filter-field[data-attribute-term-name]").forEach((e=>{let t=e.getAttribute("data-attribute-term-name");-1===speedsearch.filterByCategories_attributeTermNamesToShow[s].indexOf(t)?(e.classList.contains("active")&&e.click(),e.classList.add("first-layer-filtering-affected"),"hide"===speedsearch.settings.howToTreatEmpty?e.classList.add("first-layer-filtering-hidden"):"show-disabled"===speedsearch.settings.howToTreatEmpty&&e.classList.add("first-layer-filtering-disabled")):(e.classList.remove("first-layer-filtering-affected"),e.classList.remove("first-layer-filtering-hidden"),e.classList.remove("first-layer-filtering-disabled"))})),e(t)})),c()}!1===speedsearch.filterByCategories_attributeTermNamesToShow[s]||speedsearch.filterByCategories_attributeTermNamesToShow[s].hasOwnProperty("error")?c():r===speedsearch[a]?speedsearch.hasOwnProperty("filtersInitialized")&&speedsearch.filtersInitialized?i():document.addEventListener("speedsearch_after_filters_init",i):c()}))}else document.body.speedsearch_querySelectorAll(".speedsearch-attribute-filter:not(.speedsearch-settings-filter)").forEach((t=>{function s(){e(t)}t.speedsearch_querySelectorAll(".speedsearch-filter-field[data-attribute-term-name]").forEach((e=>{e.classList.remove("first-layer-filtering-affected"),e.classList.remove("first-layer-filtering-hidden"),e.classList.remove("first-layer-filtering-disabled")})),speedsearch.hasOwnProperty("filtersInitialized")&&speedsearch.filtersInitialized?s():document.addEventListener("speedsearch_after_filters_init",s)})),speedsearch.startPushingUrlHistory(),document.dispatchEvent(new Event("speedsearch_after_attribute_terms_filtering_finished"))},Promise.all([speedsearch.firstLayerFiltering.filterTagsByCategories(),speedsearch.firstLayerFiltering.filterAttributeTermsByCategories()]).then((()=>speedsearch.firstLayerFiltering.onFinish())).catch((e=>speedsearch.error(e))))},speedsearch.firstLayerFiltering.onFinish=function(){speedsearch.firstLayerFilteringFinished=!0,document.dispatchEvent(new CustomEvent("speedsearch_after_first_layer_filtering_finished"))},speedsearch.firstLayerFiltering(),speedsearch.categoryBlocks.length){if(!speedsearch.hasOwnProperty("categoriesData"))try{speedsearch.categoriesData=await speedsearch.fetchJsonData("get_categories",{},!1,!1,!0,!0)}catch(e){speedsearch.categoriesData=e}speedsearch.categoryBlocks.forEach((e=>{let t=e.speedsearch_querySelectorAll(".speedsearch-category:not(.disabled):not(.first-layer-filtering-disabled):not(.second-layer-filtering-disabled)"),s=e.speedsearch_querySelector('.speedsearch-category span[data-slug="all-categories"]');speedsearch.settings.currentCategoryCanBeDeselectedOnClick||e.classList.add("current-category-cant-be-deselected"),t.forEach((e=>{const t=e.speedsearch_querySelector("span");e.addEventListener("click",(function(e){e.preventDefault();const s=function(e){let t,s,a=speedsearch.categoryBlocks[0].speedsearch_querySelector(`.speedsearch-category span[data-slug="${e.speedsearch_selectorEscAttrVal()}"]`);const r=a.classList.contains("active");if(!speedsearch.categoryBlocks)return;let c=!1;if(speedsearch.settings.hasOwnProperty("allowToDeselectCategoryOnCategoryArchivePages")&&!speedsearch.settings.allowToDeselectCategoryOnCategoryArchivePages)if(r){if(speedsearch.getCurrentArchiveCategorySlug()&&!speedsearch.settings.allowToDeselectCategoryOnCategoryArchivePages&&e===speedsearch.getCurrentArchiveCategorySlug())return}else if(speedsearch.getCurrentArchiveCategorySlug()&&!speedsearch.settings.categoriesSupportMultiSelect&&!speedsearch.settings.allowToDeselectCategoryOnCategoryArchivePages)return;return speedsearch.categoryBlocks.forEach((r=>{if(s=r.speedsearch_querySelectorAll(".speedsearch-category span.active"),t=r.speedsearch_querySelector('.speedsearch-category span[data-slug="all-categories"]'),a=r.speedsearch_querySelector(`.speedsearch-category span[data-slug="${e.speedsearch_selectorEscAttrVal()}"]`),!a.parentElement.classList.contains("disabled"))if(a.classList.contains("active"))"all-categories"!==e&&(s.length-1<1?c=t.click.bind(t):(c=speedsearch.deleteUrlCategory.bind(this,e),a.classList.remove("active"),a.parentNode.classList.remove("active")));else{if(a.classList.add("active"),a.parentNode.classList.add("active"),!speedsearch.settings.categoriesSupportMultiSelect)for(let e of s)e.classList.remove("active"),e.parentNode.classList.remove("active");if("all-categories"===e){for(let e of s)e.classList.remove("active"),e.parentNode.classList.remove("active");c=speedsearch.deleteUrlCategory.bind(this)}else t.classList.remove("active"),t.parentNode.classList.remove("active"),c=speedsearch.settings.categoriesSupportMultiSelect?()=>{let t=null;!function(){const s=speedsearch.getParentCategories(e),a=Array.from(speedsearch.getUrlCategories());t=a.find((e=>s.includes(e))),t&&(speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory(),speedsearch.deleteUrlCategory(!1),a.forEach((e=>{t!==e&&speedsearch.addUrlCategory(e)})))}(),t||function(){const s=Array.from(speedsearch.getUrlCategories());let a=[];for(const t of s)speedsearch.getParentCategories(t).includes(e)&&a.push(t);a.length&&(speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory(),speedsearch.deleteUrlCategory(!1),s.forEach((e=>{a.includes(e)||speedsearch.addUrlCategory(e)})),t=!0)}(),speedsearch.addUrlCategory(e),t&&(speedsearch.startUpdatingPosts(),speedsearch.startPushingUrlHistory(),speedsearch.categoryBlocks.forEach((e=>{e.speedsearch_deloadCategories(),e.speedsearch_autoloadCategories()})))}:speedsearch.addUrlCategory.bind(this,e,!0)}})),{func:c,eventData:{categorySlug:e,isSelected:r,isAllCategoriesActive:t.classList.contains("active"),categoryName:a.textContent.trim()}}}(t.getAttribute("data-slug"));if(s.hasOwnProperty("func")&&s.func){speedsearch.stopUpdatingPosts(),speedsearch.stopPushingUrlHistory(),s.func(),speedsearch.firstLayerFiltering(),speedsearch.startPushingUrlHistory(),speedsearch.startUpdatingPosts();let e=new Event("speedsearch_after_category_change");e.data=s.eventData,document.dispatchEvent(e)}}))})),e.speedsearch_autoloadCategories=function(){const t=speedsearch.getUrlCategories();let a=!1;t&&t.forEach((t=>{let s=e.speedsearch_querySelector(`.speedsearch-category span[data-slug="${t.speedsearch_selectorEscAttrVal()}"]`);s&&(s.classList.add("active"),s.parentNode.classList.add("active"),a=!0)})),a||(s.classList.add("active"),s.parentNode.classList.add("active")),"function"==typeof speedsearch.updateBreadcrumbs&&speedsearch.updateBreadcrumbs()},e.speedsearch_autoloadCategories(),e.speedsearch_deloadCategories=function(){e.speedsearch_querySelectorAll(".speedsearch-category.active").forEach((e=>{e.classList.remove("active"),e.speedsearch_querySelector("span[data-slug]").classList.remove("active")}))},e.classList.add("loaded")}))}else speedsearch.firstLayerFiltering.onFinish();speedsearch.categoriesInitialized=!0,document.dispatchEvent(new Event("speedsearch_after_categories_init"))}(),function(){function e(){speedsearch.hasOwnProperty("setNewPriceLimits")&&speedsearch.setNewPriceLimits(),speedsearch.hasOwnProperty("setNewDateLimits")&&speedsearch.setNewDateLimits(),speedsearch.startRequestsEnqueue()}document.addEventListener("speedsearch_after_category_change",e),document.addEventListener("speedsearch_after_tag_change",e),document.addEventListener("speedsearch_after_attribute_change",e),document.addEventListener("speedsearch_after_text_change",e)}(),speedsearch.startRequestsEnqueue(),function(){const e=["speedsearch-loading","speedsearch-placeholder-post","speedsearch-loading-post","speedsearch-loading-on-infinite-scroll","speedsearch-autocomplete-loading","speedsearch-autocomplete-product-loading"],t="."+e.join(",.");setInterval((function(){for(const t of speedsearch.elementsToWaitForLoad){let s=!1;if(document.body.contains(t))for(const a of e)if(t.classList.contains(a)){s=!0;break}if(s){const e=Math.round((Date.now()-t.speedsearch_waitingForElemToLoadSinceTime)/1e3);!t.speedsearch_wasLoadingStuckErrorPrinted&&e>=15&&(t.speedsearch_wasLoadingStuckErrorPrinted=!0,speedsearch.error(`\n\t\t\t\t\t\t\t\tThe element is loading for at least ${e} seconds.\n\n\t\t\t\t\t\t\t\tIs it stuck?\n\t\t\t\t\t\t\t`,{element:t,loadingForSeconds:e,speedsearch:speedsearch}))}else speedsearch.deleteLoadingElement(t)}const s=document.body.speedsearch_querySelectorAll(t);for(const e of s)e.speedsearch_waitingForElemToLoadSinceTime||speedsearch.addLoadingElement(e)}),6e3)}(),document.dispatchEvent(new Event("speedsearch_initial_init")),speedsearch.initialInit=!0)}),{passive:!0})},8840:function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.escAttr=function(e){return(0,a.escapeAttribute)(String(e))};var a=s(1117)},2196:function(e,t,s){s.r(t)}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,s),c.exports}s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(2196),s(8837)}();